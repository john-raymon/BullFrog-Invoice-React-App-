{"version":3,"sources":["images/small_logo.png","util/agent.js","images/search-icon.png","state/reducers/index.js","state/reducers/auth.js","state/reducers/status.js","state/reducers/errors.js","state/reducers/dashboard.js","state/reducers/globals.js","util/configStore.js","util/createUUID.js","images/arrow.js","components/Header.js","state/selectors/getAllInvoices.js","state/selectors/getInvoicesToDo.js","state/selectors/getCustomerSearchResults.js","views/ListButton.js","state/actions/dashboardActions.js","state/actions/invoiceActions.js","components/Dashboard.js","util/compareWhitelistedKeys.js","images/trash-icon.js","components/CreateInvoice.js","state/selectors/getSettings.js","state/actions/applicationActions.js","components/Settings.js","components/PDFInvoice.js","views/NotFound.js","components/Main.js","state/actions/authActions.js","components/Login.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","global","superagent_promise__WEBPACK_IMPORTED_MODULE_0__","superagent_promise__WEBPACK_IMPORTED_MODULE_0___default","n","superagent__WEBPACK_IMPORTED_MODULE_1__","superagent__WEBPACK_IMPORTED_MODULE_1___default","superagent","superagentPromise","_superagent","Promise","responseBody","res","body","token","tokenPlugin","req","console","log","set","concat","requests","del","url","use","then","get","put","post","postImage","file","attach","__webpack_exports__","Auth","login","email","password","setToken","_token","history","initialState","isAuth","reducers_auth","state","arguments","length","undefined","_ref","type","_ref$payload","payload","Object","objectSpread","authLoading","dashboard","invoicesToDo","customers","allInvoices","globals","settings","reducers_status","reducers_errors","createBrowserHistory","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","combineReducers","auth","status","errors","router","connectRouter","localStorageMiddleware","store","next","action","error","localforage","setItem","agent","configureStore","persistedState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunkMiddleware","logger","promiseMiddleware","routerMiddleware","createStateSyncMiddleware","blacklist","createStore","applyMiddleware","apply","persistor","persistStore","createUUID","Math","random","toString","substring","arrow","react_default","a","createElement","width","height","viewBox","id","stroke","strokeWidth","fillRule","opacity","strokeLinecap","transform","d","Header","onLogout","className","NavLink","to","src","logo","alt","exact","onClick","createSelector","map","invoice","index","isDraft","draft","invoiceUUID","invoiceName","_get","_invoice$$","process","customerId","customerName","identifier","date","customer","name","ListButton","children","fetchAllInvoices","dispatch","getState","reject","invoices","catch","err","fetchInvoicesToDo","innerFunction","_debounce","searchQuery","Dashboard","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSearchChange","bind","assertThisInitialized","e","setState","defineProperty","target","value","fetchKnackCustomers","_this2","classes","isLoading","isError","Paper","root","Table","table","TableHead","TableRow","TableCell","align","TableBody","style","deleteDraftInvoice","disabled","searchIcon","onChange","placeholder","trim","Component","connect","dashboardStatus","dashboardErrors","getInvoicesToDo","getCustomerSearchResults","getAllInvoices","success","withStyles","theme","marginTop","spacing","unit","overflowX","overflowY","header","position","top","minWidth","compareWhitelistedKeys","prevState","whitelistedKeys","isUpdated","forEach","JSON","stringify","trash_icon","fill","ExpandingRow","open","_this$props","lineItem","lineItemUUID","roomUUID","react","removeLineItem","description","quantity","uom","laborCost","materialCost","totalMaterial","totalLabor","colSpan","Collapse","in","component","display","handleLineItemChange","htmlFor","onBlur","handleCostInputBlur","step","min","saveCopyOfLineItem","LineItems","keys","room","goBack","_this3","match","params","roomId","_this$props2","allSavedLineItems","setNewLineItemInState","lineItems","CreateInvoice_ExpandingRow","newLineItem","newLineItemDescription","handleChange","newLineItemQuantity","newLineItemUOM","newLineItemLaborCost","newLineItemMaterialCost","addNewLineItem","UOM","laborUnitPrice","materialUnitPrice","CreateInvoice","_this4","addNewRoom","autoSave","calculateTotals","handleImageChange","removeRoom","sumTotals","removeUploadedImage","sumRoomTotals","uploadImage","generateInvoice","addCreditToRunningTotals","invoiceContainerRef","createRef","draftTimeoutId","customerKnackId","insuranceCarrier","policyNumber","claimNumber","dateOfLoss","customersFullName","customersAddress","customersCityState","customersZipCode","newRoomName","newRoomLength","newRoomWidth","newRoomHeight","newRoomLineItems","rooms","totalLaborCost","totalMaterialCost","totalCost","creditToApply","newRoom","roomImages","uploadedImages","beginAutoSave","autoSaving","generatingInvoice","applyCredit","uploadingImage","reduce","totalsObj","currentLineItem","parseFloat","toFixed","total","_this5","currentRoom","_currentRoom$roomTota","roomTotals","totalCostWithCredit","isNaN","prevProps","compareKeys","clearTimeout","setTimeout","_this6","location","search","query","replace","split","queryObj","keyValue","_keyValue$split","_keyValue$split2","slicedToArray","customer_id","response","statusCode","_ref2","knackCustomersFullName","_res$body$","city","zip","street","street2","knackCustomerClaimNumber","draftId","claim","images","fullName","address","cityState","zipCode","push","notUploadedImages","_this7","imageUUID","alert","finally","_this8","_this$state$rooms$roo","lineItemDescription","lineItemLaborUnitPrice","lineItemMaterialUnitPrice","lineItemQuantity","lineItemUnitOM","_this9","currentState","requestBody","requestBodyObj","whitelistedKey","_this10","eventTargetName","eventTargetValue","updatedLineItem","_objectSpread2","_this10$calculateTota","laborTotal","materialTotal","combinedTotal","calcCB","uuid","_this11","_objectSpread9","totals","_this12","_this$state","numberReg","test","_this$calculateTotals","newlineItemUUID","_this$state2","newUUID","imageId","_this13","encodeURIComponent","Array","from","files","notUploadedImagesObj","previewUrl","URL","createObjectURL","_this14","_this$props3","knackResponse","_this15","ref","es_Route","path","render","CreateInvoice_LineItems","assign","umd","Link","accept","multiple","uploadedImage","paddingBottom","companyName","companyPhoneNumber","companyEmail","companyAddress","companyCityState","companyZip","companyOpeningStatement","fetchSettings","Settings","handleSubmit","requestPending","_this$props$globals$s","_this$props$globals$s2","defaultValue","getSettings","styles","StyleSheet","create","page","flexDirection","headerContainer","padding","alignItems","smallText","fontSize","PDFdocument","allRooms","allImages","creditApplied","react_pdf_browser_es","title","size","justifyContent","fixed","marginRight","flexGrow","alignSelf","paddingVertical","flexWrap","borderTop","paddingTop","minHeight","break","marginBottom","borderBottom","SFFloor","SFCeiling","SFWalls","SFWallsCeiling","SFWallsFloorCeiling","LFFloorPerim","LFCeilingPerim","LFFloorCeilingPerim","textAlign","item","paddingRight","textDecoration","bottom","color","pageNumber","totalPages","PDFInvoice","invoiceId","_ref3","pdfFileName","roomIds","roomsById","roomLineItemsIds","roomLineItemsById","roomLineItems","roomMeasurements","calculateRoomMeasurements","imageIds","imagesById","document","PDFInvoice_PDFdocument","pdfVersion","fileName","_ref4","blob","loading","NotFound","Main","logout","initApp","Switch","Route","resolve","fetchAll","all","timeout","race","Login","locationState","attemptLogin","ProtectedRoute","rest","objectWithoutProperties","Redirect","pathname","App","Boolean","hostname","ReactDOM","es","integration_react","esm","components_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3c88a7f6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/small_logo.f373b7af.png\";","import superagentPromise from 'superagent-promise';\nimport _superagent from 'superagent';\n\nconst superagent = superagentPromise(_superagent, global.Promise);\n\nconst API_ROOT = '/';\n\nconst responseBody = res => res.body;\n\nlet token = null;\nconst tokenPlugin = req => {\n  console.log('the token object right now!', token)\n  if (token) {\n    req.set('authorization', `${token}`);\n  }\n}\n\nconst requests = {\n  del: url =>\n    superagent.del(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  get: url =>\n    superagent.get(`${API_ROOT}${url}`).use(tokenPlugin).then(responseBody),\n  put: (url, body) =>\n    superagent.put(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody),\n  post: (url, body) => {\n    // const fileUUIDs = Object.keys((files || {}))\n    // if (fileUUIDs.length > 0) {\n    //   return superagent.post(`${API_ROOT}${url}`).use(tokenPlugin).attach(\"invoiceImages\", files[0]).then(responseBody)\n    // }\n    return superagent.post(`${API_ROOT}${url}`, body).use(tokenPlugin).then(responseBody)\n  },\n  postImage: (url, file) => {\n    return superagent.post(`${API_ROOT}${url}`).use(tokenPlugin).attach(\"invoiceImages\", file).then(responseBody)\n  }\n};\n\nexport default {\n  Auth: {\n    login: (email, password) =>\n    requests.post('users/login', { email, password })\n  },\n  requests,\n  setToken: _token => { token = _token; }\n};\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAAXNSR0IArs4c6QAAAs1JREFUSA21lslqVUEQQI2zOE/BGRKNRAUnHJaiXyAiguJGshLc+CWCoIv8QMSV/kJUVHBYGKMLpyQqUeMAznE8J6Sf9frdvJsXTMHhVldX3+quqtvvNU0pl+W4rIVm2Aq98AoGYBAakqY63tuY2wdtMLvAbxjbE+iGO/ALSqUo4CJWHYHdpav/OfSgXgBPXlemZbMrGZ+C9sxeNjTdZsQTv6/nHE/oyU7DqmzBc8Z3oQ8+g+m1ptuhFaK8Y3AGBqMx6ingVIwdsCdMfke/BFdAPZfpGPbCYZgXJh+in4UfwVZRU0q3YDkEaQPf0DvhBozVDL+ZG4BHYDpngbIMXoNzNeLJDLJ/9JkcPNm9NCh5Pma+C/4EP99nBmrEgEtgY5hxZ91hPB71Nk6mMsk6lNVpEJ8GdNJGSHILpTD/yaHgaXpvBrvvbQnjiuqEN0mUZ3HQgN6Pb6y3n0qNGDB+4NbhU43X+AxfcfsZXGPWKmYDxtzbQKnbKk7jVGbgl7reJYVlMeALZ4N420xEVrAodmbhjWNAb5KY+x0TicaafF1f0XsM6DUUP9JNjDcXOdex2ek7w/wQ+pgBLfTV4GwdjsHSYKunzmfyOMTaX2P8pWhRKrI/K15vXuCKd6MndZcfYCyx3h2wPjhYnstQWMMU0FPaPLsgFX4Bupe5m/Dy9gfXLp4Da+AAHIW8ySxTC/SCvy5V4guiGPAEzIzGUf0jTy9159xMvhZTlbxkdA68yCuSTpgMOvWDKZqbjKNPa6TNDzoP5oWR26xtO9yHSj3zgMyN7MjL2Bc0Q2wGhlXii67DRdA3bzQzURU03xXzVbKYkc3TCv7OGdwb5C08hQfwBpSFcBLMTi5+66Z3qCxgvrBsbIMZ1A3mMoChsyiluWMjY5uqBzaA2YliBob/d0ADpKBt6DGoN1rXZATMg5pmg52HVG99JkXs2oPg35gR+QtuoXwKGm7ejAAAAABJRU5ErkJggg==\"","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\n// Reducers\nimport auth from './auth'\nimport status from './status'\nimport errors from './errors'\nimport dashboard from './dashboard'\nimport globals from './globals'\n\nexport default (history) => {\n  return combineReducers({\n    auth,\n    status,\n    errors,\n    dashboard,\n    globals,\n    router : connectRouter(history)\n  })\n}\n","const initialState = {\n  isAuth: false,\n  token: null\n}\n\nexport default (state = initialState, { type, payload = {} } ) => {\n  switch (type) {\n    case `${\"LOGIN\"}_FULFILLED`:\n      return {...state, token: payload.token, isAuth: payload.isAuth}\n    case \"LOGOUT\":\n    case `${\"LOGIN\"}_REJECTED`:\n      return {...state, token: null, isAuth: false}\n    case \"CHANGE\":\n      return {...state, isAuth: true}\n    default:\n      return state;\n  }\n}\n\n\n// thunk action creators\n","const initialState = {\n  authLoading: false,\n  dashboard: {\n    invoicesToDo: false,\n    customers: false,\n    allInvoices: false\n  },\n  globals: {\n    settings: false\n  }\n}\n\nexport default (state = initialState, { type, payload = {} } ) => {\n  switch (type) {\n    case `${\"LOGIN\"}_FULFILLED`:\n      return {...state, authLoading: false}\n    case `${\"LOGIN\"}_PENDING`:\n      return {...state, authLoading: true}\n    case \"LOGOUT\":\n    case `${\"LOGIN\"}_REJECTED`:\n      return {...state, authLoading: false}\n\n    // status of FETCH SETTINGS\n    case \"FETCH_SETTINGS_PENDING\":\n      return {\n        ...state,\n        globals: {\n          ...state.globals,\n          settings: true\n        }\n      }\n    case \"FETCH_SETTINGS_FULFILLED\":\n    case \"FETCH_SETTINGS_REJECTED\":\n    return {\n      ...state,\n      globals: {\n        ...state.globals,\n        settings: false\n      }\n    }\n\n    // status of dashboardActions\n    case \"FETCH_ALL_INVOICES_PENDING\":\n      return {\n        ...state,\n        dashboard: {\n          ...state.dashboard,\n          allInvoices: true\n        }\n      }\n    case \"FETCH_ALL_INVOICES_FULFILLED\":\n    case \"FETCH_ALL_INVOICES_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        allInvoices: false\n      }\n    }\n\n    case \"FETCH_INVOICES_TO_DO_PENDING\":\n      return {\n        ...state,\n        dashboard: {\n          ...state.dashboard,\n          invoicesToDo: true\n        }\n      }\n    case \"FETCH_INVOICES_TO_DO_FULFILLED\":\n    case \"FETCH_INVOICES_TO_DO_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        invoicesToDo: false\n      }\n    }\n    case \"FETCH_KNACK_CUSTOMERS_PENDING\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        customers: true\n      }\n    }\n    case \"FETCH_KNACK_CUSTOMERS_FULFILLED\":\n    case \"FETCH_KNACK_CUSTOMERS_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        customers: false\n      }\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n// thunk action creators\n","const initialState = {\n  dashboard: {\n    invoicesToDo: null,\n    customers: null,\n    allInvoices: null\n  },\n  globals: {\n    settings: null\n  }\n}\n\nexport default (state = initialState, { type, payload = {} } ) => {\n  switch (type) {\n    // FETCH SETTINGS ERRORS\n    case \"FETCH_SETTINGS_PENDING\":\n    case \"FETCH_SETTINGS_FULFILLED\":\n    return {\n      ...state,\n      globals: {\n        settings: null\n      }\n    }\n    case \"FETCH_SETTINGS_REJECTED\":\n    return {\n      ...state,\n      globals: {\n        settings: payload\n      }\n    }\n\n    // FETCH ALL INVOICES ERRORS\n    case \"FETCH_ALL_INVOICES_PENDING\":\n    case \"FETCH_ALL_INVOICES_FULFILLED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        allInvoices: null\n      }\n    }\n    case \"FETCH_ALL_INVOICES_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        allInvoices: payload\n      }\n    }\n\n    // FETCH INVOICES TO DO ERRORS\n    case \"FETCH_INVOICES_TO_DO_PENDING\":\n    case \"FETCH_INVOICES_TO_DO_FULFILLED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        invoicesToDo: null\n      }\n    }\n    case \"FETCH_INVOICES_TO_DO_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        invoicesToDo: payload\n      }\n    }\n\n    // FETCH KNACK CUSTOMERS ERRORS\n    case \"FETCH_KNACK_CUSTOMERS_PENDING\":\n    case \"FETCH_KNACK_CUSTOMERS_FULFILLED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        customers: null\n      }\n    }\n    case \"FETCH_KNACK_CUSTOMERS_REJECTED\":\n    return {\n      ...state,\n      dashboard: {\n        ...state.dashboard,\n        customers: payload\n      }\n    }\n    default:\n      return state;\n  }\n}\n\n\n// thunk action creators\n","const initialState = {\n  invoicesToDo: {},\n  customers: {},\n  allInvoices: []\n}\n\nexport default (state = initialState, { type, payload = {} }) => {\n  switch (type) {\n    case \"FETCH_INVOICES_TO_DO_FULFILLED\":\n      return {\n        ...state,\n        invoicesToDo: payload\n      }\n    case \"FETCH_KNACK_CUSTOMERS_FULFILLED\":\n      return {\n        ...state,\n        customers: payload\n      }\n    case \"FETCH_ALL_INVOICES_FULFILLED\":\n      return {\n        ...state,\n        allInvoices:  payload\n      }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  settings: {}\n}\n\nexport default (state = initialState, { type, payload = {} }) => {\n switch(type) {\n   case 'FETCH_SETTINGS_FULFILLED':\n    return {\n      ...state,\n      settings: payload.settings\n    }\n    default:\n      return state\n  }\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createRootReducer from '../state/reducers'\nimport agent from './agent'\nimport localforage from 'localforage'\nimport { createBrowserHistory } from 'history'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage' // defaults to localStorage for web and AsyncStorage for react-native\nimport { createStateSyncMiddleware } from 'redux-state-sync';\n// middlewares\nimport thunkMiddleware from 'redux-thunk'\nimport promiseMiddleware from 'redux-promise-middleware'\nimport logger from 'redux-logger'\nimport { routerMiddleware } from 'connected-react-router'\n\nexport const history = createBrowserHistory();\n\nconst persistConfig = {\n  key: 'root',\n  storage,\n  whitelist: ['auth'] // only auth will be persisted\n}\n\nconst persistedReducer = persistReducer(persistConfig, createRootReducer(history))\n\nconst localStorageMiddleware = store => next => action => {\n  if (action.type === \"LOGIN_FULLFILLED\") {\n    if (!action.error) {\n      localforage.setItem('jwt', action.payload.token)\n      agent.setToken(action.payload.token);\n    }\n  } else if (action.type === \"LOGOUT\" || action.type === \"EXPIRED\") {\n    localforage.setItem('jwt', '');\n    agent.setToken(null);\n  }\n  next(action);\n};\n\nconst configureStore = (persistedState) => {\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const middlewares = [thunkMiddleware, logger, promiseMiddleware, localStorageMiddleware, routerMiddleware(history), createStateSyncMiddleware({blacklist: [\"@@router/LOCATION_CHANGE\"]})]\n\tlet store = createStore(\n    persistedReducer,\n    composeEnhancers(\n      applyMiddleware(...middlewares))\n    )\n  let persistor = persistStore(store)\n  return { store, persistor }\n}\n\nexport default configureStore\n","export default () => Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n","import React from 'react';\nexport default () => {\n  return (\n  <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 11 21\" >\n    <g id=\"Log-In-\" stroke=\"none\" strokeWidth=\"1\" fillRule=\"evenodd\" opacity=\"0.734551711\" strokeLinecap=\"square\">\n        <g id=\"Desktop-HD\" transform=\"translate(-580.000000, -577.000000)\" stroke=\"#979797\">\n            <g id=\"arrow\" transform=\"translate(585.500000, 587.500000) scale(-1, -1) translate(-585.500000, -587.500000) translate(580.000000, 578.000000)\">\n                <path d=\"M0.189655172,9.5 L11,0\" id=\"Line\"></path>\n                <path d=\"M0.189655172,9.65322581 L10.8103448,18.8467742\" id=\"Line\"></path>\n            </g>\n        </g>\n    </g>\n  </svg>\n  )\n}\n","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport createUUID from '../util/createUUID'\n\nimport Arrow from '../images/arrow';\nimport logo from '../images/small_logo.png';\n\nexport default ({onLogout}) => {\n  return (\n  <header>\n    <div className=\"flex flex-column flex-row-l items-center justify-around pv3 ph1 bb b--light-gray\">\n      <NavLink to=\"/\">\n        <img src={logo} width=\"65px\" height=\"auto\" alt=\"\" />\n      </NavLink>\n      <nav className=\"flex self-stretch\">\n        <ul className=\"flex flex-column center mv4 mv0-l flex-row-l items-center list pa0 ma0\">\n          <li>\n            <NavLink to='/' exact className=\"pa0 ma0 mh4 dinLabel gray\">Dashboard</NavLink>\n          </li>\n          <li>\n            <NavLink to={`/invoices/new/${createUUID()}`} className=\"pa0 ma0 mh4 dinLabel gray dim pointer\">Create an Invoice</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/settings\" className=\"pa0 ma0 mh4 dinLabel gray dim pointer\">Settings</NavLink>\n          </li>\n        </ul>\n      </nav>\n      <button\n        onClick={onLogout}\n        className=\"flex flex-row items-center self-center dinLabel f7 blue self-start pointer bn bg-transparent dim\">\n        SIGN OUT <div className=\"ArrowIcon mh2\"><Arrow /></div>\n      </button>\n    </div>\n  </header>\n)}\n","import { createSelector } from 'reselect'\nimport _get from 'lodash/get';\n\nexport default createSelector(\n  state => {\n    console.log('the state inside the selector is', state)\n    return state.dashboard.allInvoices\n  },\n  allInvoices => {\n    const invoices = allInvoices.map((invoice, index) => {\n      const { draft: isDraft, id: invoiceUUID, invoiceName } = invoice\n      return {\n        isDraft,\n        invoiceUUID,\n        invoiceName\n      }\n    })\n\n    return invoices\n  }\n);\n","import { createSelector } from 'reselect'\nimport _get from 'lodash/get';\n\nexport default createSelector(\n  state => {\n    console.log('the state inside the selector is', state)\n    return state.dashboard.invoicesToDo\n  },\n  invoicesToDo => {\n    console.log('invoices to do look like', invoicesToDo)\n    const invoices = _get(invoicesToDo, \"records\", []).map((invoice, index) => {\n      const { id: customerId, identifier: customerName } = invoice[`${process.env.REACT_APP_KNACK_INVOICE_TO_DO_LIST_CUSTOMER_FIELD}_raw`][0]\n      return {\n        date: invoice[`${process.env.REACT_APP_KNACK_INVOICE_TO_DO_LIST_DATE_FIELD}`],\n        customer: {\n          id: customerId,\n          name: customerName\n        }\n      }\n    })\n\n    return invoices\n  }\n);\n","import { createSelector } from 'reselect'\nimport _get from 'lodash/get';\n\nexport default createSelector(\n  state => {\n    console.log('the state inside the selector getCustomerSearchResults is', state)\n    return state.dashboard.customers\n  },\n  customers => {\n    const records = _get(customers, \"records\", []).map((customer, index) => {\n      const { id:customerId, [process.env.REACT_APP_KNACK_CUSTOMERS_TABLE_NAME_FIELD]:customerName } = customer\n      return {\n          id: customerId,\n          customerName\n        }\n    })\n\n    return records\n  }\n);\n","import React from 'react'\n\n// Static Assets\nimport Arrow from '../images/arrow';\n\nexport default function ListButton({children}) {\n  return (\n    <button className=\"dim pointer dinLabel f8 mid-gray tracked-mega ttu ma0 mr1 pa0 bn bg-transparent flex flex-row items-center pv1 ttu\">\n      {children}\n      <div className=\"ArrowIcon mh2\"><Arrow /></div>\n    </button>\n  )\n}\n","import agent from '../../util/agent'\nimport _debounce from 'lodash/debounce';\n\nexport function fetchAllInvoices() {\n  return (dispatch, getState) => {\n    agent.setToken(getState().auth.token)\n    return dispatch({\n      type: \"FETCH_ALL_INVOICES\",\n      payload: agent.requests.get('invoices/all').then((res) => {\n          if (res.status === 401) {\n            dispatch({ type: \"LOGOUT\" })\n            return Promise.reject()\n          }\n          return res.invoices\n        })\n        .catch((err) => {\n          if (err.status === 401) {\n            dispatch({ type: \"LOGOUT\" })\n          }\n          return Promise.reject(err)\n        })\n    })\n  }\n}\n\nexport function fetchInvoicesToDo() {\n  return (dispatch, getState) => {\n    const { token } = getState().auth\n    agent.setToken(token)\n    console.log('this is the current agent')\n    return dispatch({\n      type: \"FETCH_INVOICES_TO_DO\",\n      payload: agent.requests.get(`knack/invoices-to-do?rows_per_page=1000&sort_field=${process.env.REACT_APP_KNACK_INVOICE_TO_DO_LIST_DATE_FIELD}&sort_order=asc`).then((res) => {\n        // right now we're just maxing out and not accounting for if there is more\n        // than 1 page, since we're expecting the Invoice-to-do Knack record to be\n        // remove when saved as draft on our Backend\n\n        if (res.status === 401) {\n          dispatch({ type: \"LOGOUT\" })\n          return Promise.reject()\n        }\n\n        return res;\n      }).catch((err) => {\n        if (err.status === 401) {\n          dispatch({ type: \"LOGOUT\" })\n        }\n        return Promise.reject(err)\n      })\n    })\n  }\n}\n\nconst innerFunction = _debounce((dispatch, searchQuery) => {\n  return dispatch({\n    type: \"FETCH_KNACK_CUSTOMERS\",\n    payload: agent.requests.get(`knack/search-customers?searchFor=${searchQuery}`)\n      .then(res => {\n        if (res.status === 401) {\n          dispatch({ type: \"LOGOUT\" })\n          return Promise.reject()\n        }\n        return res\n      }).catch(err => {\n        if (err.status === 401) {\n          dispatch({ type: \"LOGOUT\" })\n        }\n        return Promise.reject(err)\n      })\n  })\n}, 300);\n\nexport function fetchKnackCustomers(searchQuery) {\n  return (dispatch) => {\n    return innerFunction(dispatch, searchQuery);\n  }\n}\n","import agent from '../../util/agent'\nimport { fetchAllInvoices } from './dashboardActions'\n\nexport const deleteDraftInvoice = invoiceUUID => (dispatch, getState) => {\n  agent.setToken(getState().auth.token)\n\n  return dispatch({\n    type: \"DELETE_DRAFT_INVOICE\",\n    payload: agent.requests.post(`invoices/${invoiceUUID}/delete-draft`).then((res) => {\n      if (res.success) {\n        dispatch(fetchAllInvoices())\n      }\n      return res;\n    })\n  })\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport createUUID from '../util/createUUID'\nimport { NavLink } from 'react-router-dom'\n\n// Selectors\nimport getAllInvoices from '../state/selectors/getAllInvoices'\nimport getInvoicesToDo from '../state/selectors/getInvoicesToDo'\nimport getCustomerSearchResults from '../state/selectors/getCustomerSearchResults'\n\n// Views\nimport ListButton from '../views/ListButton'\n\n// Images\nimport searchIcon from '../images/search-icon.png';\n\n// Dashboard Actions\nimport { fetchKnackCustomers, fetchInvoicesToDo, fetchAllInvoices } from '../state/actions/dashboardActions';\n// Invoice Actions\nimport { deleteDraftInvoice } from '../state/actions/invoiceActions';\n// Material-UI\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 0,\n    overflowX: 'auto',\n    overflowY: 'auto',\n    height: \"12rem\"\n  },\n  header: {\n    position: \"sticky\",\n    top: 0\n  },\n  table: {\n    minWidth: \"100%\"\n  },\n});\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props)\n    this.handleSearchChange = this.handleSearchChange.bind(this)\n    this.state = {\n      searchQuery: ''\n    }\n  }\n\n  componentDidMount(){\n    this.props.fetchAllInvoices()\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      [e.target.name] : e.target.value\n    })\n    this.props.fetchKnackCustomers(this.state.searchQuery)\n  }\n\n  render() {\n    const { props } = this\n    const { classes } = props\n    const invoicesToDo = () => {\n      if (props.isLoading.invoicesToDo) {\n        return (<p className=\"tc\">Loading ... </p>)\n      }\n      if (props.isError.invoicesToDo) {\n        return (<p>There seems to be an error</p>)\n      }\n      return (\n        <Paper className={classes.root}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Date</TableCell>\n                <TableCell align=\"left\">Customer</TableCell>\n                <TableCell align=\"left\">Action</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {\n                props.invoicesToDo.map((invoice, key) => (\n                  <TableRow key={key}>\n                    <TableCell align=\"left\">{invoice.date}</TableCell>\n                    <TableCell align=\"left\">{ invoice.customer.name || 'No Name' }</TableCell>\n                    <TableCell align=\"left\">\n                      <NavLink to={`/invoices/new/${createUUID()}?customer_id=${invoice.customer.id}`}>\n                        <ListButton>\n                          create invoice\n                        </ListButton>\n                      </NavLink>\n                    </TableCell>\n                  </TableRow>\n                ))\n              }\n            </TableBody>\n          </Table>\n        </Paper>\n      )\n    }\n    const customerSearchResults = () => {\n      if (props.isLoading.customers) {\n        return (<p className=\"tc\">Loading</p>)\n      }\n      if (props.isError.customers) {\n        return (<p>There seems to be an error</p>)\n      }\n      if (!props.customers.length && this.state.searchQuery.trim()) {\n        return (\n          <p>We could find any customers on Knack relating to your search.</p>\n        )\n      }\n      return props.customers.map((customer, index) => {\n        return (\n          <li key={index}>\n            <div className=\"flex flex-row justify-between items-center bb b--light-gray pv1\">\n              <p className=\"dinLabel near-black f7 ma0 w-50 tracked-mega small-caps\">\n                {customer.customerName}\n              </p>\n              <NavLink to={`/invoices/new/${createUUID()}?customer_id=${customer.id}`}>\n                <ListButton>\n                  create invoice\n                </ListButton>\n              </NavLink>\n            </div>\n          </li>\n        )\n      })\n    }\n\n    const allInvoices = () => {\n      if (props.isLoading.allInvoices) {\n        return (<p className=\"tc\">Loading</p>)\n      }\n      if (props.isError.allInvoices) {\n        return (<p>There seems to be an error</p>)\n      }\n      if (!props.allInvoices.length) {\n        return (\n          <p>There are no invoices.</p>\n        )\n      }\n      return (\n        <Paper className={classes.root} style={{ height: \"20rem\" }}>\n          <Table className={classes.table}>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Invoice Name</TableCell>\n                <TableCell align=\"left\">Action</TableCell>\n                <TableCell align=\"left\">Delete Draft</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {\n                props.allInvoices.map((invoice, key) => (\n                  <TableRow key={key}>\n                    <TableCell align=\"left\">{invoice.invoiceName}</TableCell>\n                    <TableCell align=\"left\">\n                      <NavLink to={`/invoices/${(invoice.isDraft ? 'new' : 'pdf')}/${invoice.invoiceUUID}`}>\n                        <ListButton>\n                          { invoice.isDraft ? 'cont. draft' : 'view pdf' }\n                        </ListButton>\n                      </NavLink>\n                    </TableCell>\n                    {\n                      <TableCell\n                        align=\"left\">\n                        <button\n                          onClick={() => {\n                            this.props.deleteDraftInvoice(invoice.invoiceUUID)\n                          }}\n                          disabled={!invoice.isDraft}\n                          className={`db mt1 dinTitle f8 mid-gray ba b--red tracked ttu tc pa2 br2 red ${!invoice.isDraft ? 'o-10' : 'dim pointer'}`}>\n                          delete\n                        </button>\n                      </TableCell>\n                    }\n                  </TableRow>\n                ))\n              }\n            </TableBody>\n          </Table>\n        </Paper>\n      )\n    }\n\n    return(\n      <div className=\"flex flex-column w-100 measure-80 center pt5-l ph3 mb4\">\n        <div className=\"flex flex-column flex-row-l w-100 items-start\">\n          <div className=\"w-100 w-50-l\">\n            <p className=\"dinTitle tl mid-gray pa0 mb4 ma0-l\">\n              Hello,\n              <br/>\n              get started now and\n              <br/>\n              <NavLink to={`/invoices/new/${createUUID()}`}>\n                <span className=\"blue lh-title b--blue bb bw2 pointer dim\">create an invoice.</span>\n              </NavLink>\n            </p>\n          </div>\n\n          <div className=\"w-100 w-50-l ba b--light-gray bw1 h-auto br3 pt1 shadow-custom overflow-hidden\">\n            <p className=\"dinLabel tr mid-gray mb0 ph3\">\n              Invoices To Do ({props.invoicesToDo.length ||`0`})\n            </p>\n            <div className=\"w-100 flex-grow-1 mt2\">\n              { invoicesToDo() }\n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-column flex-row-l w-100 items-start pt4\">\n          <div className=\"w-100 pr0 w-50-l pb4 pb0-l pr4-l\">\n            <div className=\"w-100 ba b--light-gray bw1 br3 pt1 shadow-custom overflow-hidden\">\n              <p className=\"dinLabel tl mid-gray mb0 ph4\">\n                Previous Invoices ({props.allInvoices.length || '0'})\n              </p>\n              <div className=\"w-100 flex-grow-1 mt2\">\n                { allInvoices() }\n              </div>\n            </div>\n          </div>\n          <div className=\"w-100 w-50-l\">\n            <div className=\"w-100 ba b--light-gray bw1 h6 br3 ph4 pt1 shadow-custom\">\n              <div className=\"flex flex-row items-center bt- bl-0 br-0 bb b--light-gray mt3 mb2 w-70 pv1\">\n                <span>\n                  <img src={searchIcon} width=\"16\" height=\"auto\" />\n                </span>\n                <input\n                  onChange={this.handleSearchChange}\n                  className=\"dinLabel pa0 ml2 tl mid-gray input-reset bn outline-0 flex-grow-1\"\n                  type=\"text\"\n                  name=\"searchQuery\"\n                  placeholder=\"Find a Customer\"\n                  value={this.state.searchQuery}\n                  />\n              </div>\n              <ul className=\"list mt2 mb0 mh0 pa0 overflow-scroll h5\">\n                {customerSearchResults()}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const { status, errors} = state\n  const { dashboard: dashboardStatus } = status\n  const { dashboard: dashboardErrors } = errors\n  return {\n    isLoading: {\n      invoicesToDo: dashboardStatus.invoicesToDo,\n      customers: dashboardStatus.customers,\n      allInvoices: dashboardStatus.allInvoices\n    },\n    isError: {\n      invoicesToDo: dashboardErrors.invoicesToDo,\n      customers: dashboardErrors.customers,\n      allInvoices: dashboardErrors.allInvoices\n    },\n    invoicesToDo: !(dashboardErrors.invoicesToDo && dashboardStatus.invoicesToDo) ? getInvoicesToDo(state) : [],\n    customers: !(dashboardErrors.customers && dashboardStatus.customers) ? getCustomerSearchResults(state) : [],\n    allInvoices: !(dashboardErrors.allInvoices && dashboardStatus.allInvoices) ? getAllInvoices(state) : []\n  }\n}\n\nexport default connect(mapStateToProps, { fetchKnackCustomers, fetchInvoicesToDo, fetchAllInvoices, deleteDraftInvoice })(withStyles(styles)(Dashboard))\n","export default (prevState, state, whitelistedKeys) => {\n\tlet isUpdated = false;\n  whitelistedKeys.forEach((key) => {\n  \tif (JSON.stringify(prevState[key]) !== JSON.stringify(state[key])) {\n    \tisUpdated = true\n    }\n  })\n  return isUpdated\n}\n","import React from 'react';\nexport default () => {\n  return (\n  <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 11 13\">\n      <g id=\"Create-Estimate\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n          <g id=\"Desktop-HD\" transform=\"translate(-1163.000000, -578.000000)\" fill=\"#797979\" fillRule=\"nonzero\">\n              <g id=\"room-list-item\" transform=\"translate(762.000000, 578.000000)\">\n                  <g id=\"delete-button\" transform=\"translate(351.000000, 0.000000)\">\n                      <g id=\"garbage\" transform=\"translate(50.000000, 0.000000)\">\n                          <path d=\"M10.7708333,1.3220339 L7.55241667,1.3220339 C7.52720833,1.04661017 7.43897917,0.582135593 7.1369375,0.284016949 C6.9458125,0.0956271186 6.70335417,0 6.4164375,0 L4.125,0 C3.83808333,0 3.595625,0.0956271186 3.4045,0.284016949 C3.10245833,0.582135593 3.01422917,1.04661017 2.98902083,1.3220339 L0.229166667,1.3220339 C0.102666667,1.3220339 0,1.42052542 0,1.54237288 C0,1.66422034 0.102666667,1.76271186 0.229166667,1.76271186 L0.696895833,1.76271186 L1.13575,11.9029322 C1.14422917,12.2823559 1.38989583,13 2.2605,13 L8.7395,13 C9.61010417,13 9.85577083,12.2823559 9.86402083,11.9075593 L10.3031042,1.76271186 L10.7708333,1.76271186 C10.8973333,1.76271186 11,1.66422034 11,1.54237288 C11,1.42052542 10.8973333,1.3220339 10.7708333,1.3220339 Z M3.73358333,0.590728814 C3.83625,0.489813559 3.96435417,0.440677966 4.125,0.440677966 L6.4164375,0.440677966 C6.57708333,0.440677966 6.7051875,0.489813559 6.80785417,0.590728814 C6.99233333,0.772067797 7.06635417,1.09111864 7.09202083,1.3220339 L3.44964583,1.3220339 C3.4753125,1.09111864 3.54933333,0.772067797 3.73358333,0.590728814 Z M9.40591667,11.893678 C9.40454167,11.9617627 9.37291667,12.559322 8.7395,12.559322 L2.2605,12.559322 C1.63395833,12.559322 1.596375,11.960661 1.59385417,11.8890508 L1.15545833,1.76271186 L9.8443125,1.76271186 L9.40591667,11.893678 Z\" id=\"Shape\"></path>\n                      </g>\n                  </g>\n              </g>\n          </g>\n      </g>\n  </svg>\n  )\n}\n","import React, { Component, createRef, Fragment } from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Link } from 'react-router-dom'\n\nimport compareKeys from '../util/compareWhitelistedKeys.js'\nimport createUUID from '../util/createUUID'\nimport agent from '../util/agent'\n\nimport Arrow from '../images/arrow';\nimport TrashIcon from '../images/trash-icon'\n\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionItemHeading,\n  AccordionItemButton,\n  AccordionItemPanel,\n  AccordionItemState\n} from 'react-accessible-accordion'\n\n// Material-UI\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 1,\n    overflowX: 'auto',\n    paddingBottom: theme.spacing.unit * 2\n  },\n  header: {\n    position: \"sticky\",\n    top: 0\n  },\n  table: {\n    minWidth: \"100%\"\n  },\n});\n\nclass ExpandingRow extends Component {\n  state = { open: false };\n\n  render() {\n    const { lineItem, lineItemUUID, roomUUID } = this.props;\n    const { open } = this.state;\n\n    return (\n      <Fragment>\n        <TableRow>\n          <TableCell align=\"right\">\n            <div\n              className=\"h-100 items-center flex flex-row pointer dim\"\n              onClick={() => this.setState(({ open }) => ({ open: !open }))}\n              >\n              <p className=\"dinTitle f7 mid-gray tc\">Edit</p>\n              <div className=\"ArrowIcon rotate-90 mh2\">\n                <Arrow />\n              </div>\n            </div>\n          </TableCell>\n          <TableCell align=\"right\">\n            <button\n              onClick={() => this.props.removeLineItem(roomUUID, lineItemUUID)}\n              className='dinTitle f8 mid-gray ba b--red tracked ttu tc pa1 br2 red dim pointer o-70'>\n              Delete\n            </button>\n          </TableCell>\n          <TableCell align=\"right\">{lineItem.description}</TableCell>\n          <TableCell align=\"right\">{lineItem.quantity}</TableCell>\n          <TableCell align=\"right\">{lineItem.uom}</TableCell>\n          <TableCell align=\"right\">{lineItem.laborCost}</TableCell>\n          <TableCell align=\"right\">{lineItem.materialCost}</TableCell>\n          <TableCell align=\"right\">{lineItem.totalMaterial}</TableCell>\n          <TableCell align=\"right\">{lineItem.totalLabor}</TableCell>\n        </TableRow>\n        <TableRow className=\"relative\" style={{ height: \"auto\" }}>\n          <td colSpan=\"12\">\n            <Collapse in={open} component=\"div\" style={{display: \"block\", width: \"100%\"}}>\n              <div className=\"LineItem__container flex flex-column vw-100 w-100-l pv2 ph2\">\n                  <div className=\"flex flex-column flex-grow-1 mr2\">\n                    <input\n                      className=\"InputField w-100\"\n                      type=\"text\"\n                      name=\"description\"\n                      placeholder=\"Enter the line-item's description\"\n                      value={lineItem.description}\n                      onChange={(e) => this.props.handleLineItemChange(e, roomUUID, lineItemUUID)}\n                    />\n                    <label htmlFor=\"newLineItemDescription\">\n                      <p className=\"dinLabel pa0 ma0 mb2 f7 ttc\">\n                        description\n                      </p>\n                    </label>\n                  </div>\n\n                  <div className=\"flex flex-row items-center flex-wrap justify-start\">\n                    <div className=\"w-20 flex flex-column items-start mr2\">\n                      <input\n                        className=\"InputField tc\"\n                        type=\"number\"\n                        name=\"quantity\"\n                        placeholder=\"1\"\n                        onBlur={(e) => this.props.handleCostInputBlur(e, roomUUID, lineItemUUID)}\n                        value={lineItem.quantity}\n                        onChange={(e) => this.props.handleLineItemChange(e, roomUUID, lineItemUUID)}\n                      />\n                      <label htmlFor=\"newLineItemQuantity\">\n                        <p className=\"dinLabel pa0 ma0 mb2 f7 ttc\">\n                          qty\n                        </p>\n                      </label>\n                    </div>\n\n                    <div className=\"w-20 flex flex-column items-start mr2\">\n                      <div className=\"relative InputField flex flex-row justify-center pointer\">\n                        <p className=\"dinLabel ttu mid-gray f7 pa0 ma0 self-center mr3\">\n                          { lineItem.uom || 'UOM'}\n                        </p>\n                        <div className=\"ArrowIcon self-center rotate-90\"><Arrow /></div>\n                        <select onChange={(e) => this.props.handleLineItemChange(e, roomUUID, lineItemUUID)} name=\"uom\" className=\"absolute z-2 top-0 left-0 w-100 h-100 o-0 pointer ttc\">\n                          <option value=\"CY\">cubic yard</option>\n                          <option value=\"DA\">day</option>\n                          <option value=\"EA\">each</option>\n                          <option value=\"HR\">hour</option>\n                          <option value=\"JC\">job cost</option>\n                          <option value=\"LF\">linear foot</option>\n                          <option value=\"LS\">lump sum</option>\n                          <option value=\"MC\">mininum change</option>\n                          <option value=\"MO\">month</option>\n                          <option value=\"RM\">room</option>\n                          <option value=\"SF\">square foot</option>\n                          <option value=\"SQ\">square</option>\n                          <option value=\"SY\">square yard</option>\n                          <option value=\"TN\">ton</option>\n                          <option value=\"WK\">week</option>\n                        </select>\n                      </div>\n                      <label htmlFor=\"newLineItemUOM\">\n                        <p className=\"dinLabel pa0 ma0 mb2 f7 ttu\">\n                          uom\n                        </p>\n                      </label>\n                    </div>\n\n                    <div className=\"flex flex-grow-0 flex-column items-start mr2\">\n                      <div className=\"flex flex-row items-center\">\n                        <span className=\"dinLabel f7 mh1\">\n                          $\n                        </span>\n                        <input\n                          type=\"number\"\n                          step=\"0.01\"\n                          min=\"0.00\"\n                          onBlur={(e) => this.props.handleCostInputBlur(e, roomUUID, lineItemUUID)}\n                          className=\"InputField tc\"\n                          name=\"laborCost\"\n                          value={lineItem.laborCost}\n                          onChange={(e) => this.props.handleLineItemChange(e, roomUUID, lineItemUUID)}\n                        />\n                      </div>\n                      <label htmlFor=\"newLineItemLaborCost\">\n                        <p className=\"dinLabel pa0 ma0 mb2 f7 ttc pl1\">\n                          labor\n                        </p>\n                      </label>\n                    </div>\n\n                    <div className=\"w-20 flex flex-column items-start mr2\">\n                      <div className=\"flex flex-row items-center\">\n                        <span className=\"dinLabel f7 mh1\">\n                          $\n                        </span>\n                        <input\n                          type=\"number\"\n                          step=\"0.01\"\n                          min=\"0.00\"\n                          onBlur={(e) => this.props.handleCostInputBlur(e, roomUUID, lineItemUUID)}\n                          className=\"InputField tc\"\n                          name=\"materialCost\"\n                          value={lineItem.materialCost}\n                          onChange={(e) => this.props.handleLineItemChange(e, roomUUID, lineItemUUID)}\n                        />\n                      </div>\n                      <label htmlFor=\"newLineItemMaterialCost\">\n                        <p className=\"dinLabel pa0 ma0 mb2 f7 ttc pl1\">\n                          material\n                        </p>\n                      </label>\n                    </div>\n                  </div>\n\n                  <div className=\"flex flex-column w-100 mt4\">\n                    {\n                      // TODO: create state identifying whether or not current line-item\n                      // is being updated, set that state as the `disabled` value of the\n                      // button below.\n                    }\n                    <button\n                      onClick={() => this.props.saveCopyOfLineItem(roomUUID, lineItemUUID)}\n                      className=\"dinTitle f7 mid-gray tracked ttu tc bn pa3 bg-black-10 dim\">\n                      save copy of line-item for reuse\n                    </button>\n                  </div>\n                </div>\n            </Collapse>\n          </td>\n        </TableRow>\n      </Fragment>\n    );\n  }\n}\n\n\nclass LineItems extends Component {\n  constructor(props) {\n    super(props)\n  }\n\n  componentDidMount() {\n    if (!Object.keys(this.props.room).length) {\n      this.props.history.goBack()\n    }\n  }\n\n  render() {\n    const roomUUID = this.props.match.params.roomId\n    const { classes, allSavedLineItems, setNewLineItemInState, saveCopyOfLineItem } = this.props\n    return (\n      <div className=\"LineItems fixed top-0 left-0 w-100 z-1 vh-100 bg-black-70\">\n        <div className=\"fixed top-0 left-0 vh-75 w-100 bg-white overflow-scroll\">\n          <div className=\"measure-70 flex flex-column center ph2 z-3\">\n            <p className=\"sticky top-0 dinTitle pa0 ma0 f3 mb3 ttc pt4 bg-white-70 z-4\">\n              line items\n              <span className=\"mid-gray f5 ttc db pt1\">\n                {this.props.room.name}\n              </span>\n            </p>\n            <div className=\"relative h-auto w-100 min-height-vh-75\">\n              <div className=\"w-100\">\n                <Paper className={classes.root}>\n                  <Table className={classes.table}>\n                    <TableHead>\n                      <TableRow>\n                        <TableCell align=\"right\"><span className=\"green\">Edit</span></TableCell>\n                        <TableCell align=\"right\"><span className=\"red\">Delete</span></TableCell>\n                        <TableCell align=\"right\">Description</TableCell>\n                        <TableCell align=\"right\">Quantity</TableCell>\n                        <TableCell align=\"right\">UOM</TableCell>\n                        <TableCell align=\"right\">Labor Cost</TableCell>\n                        <TableCell align=\"right\">Material Cost</TableCell>\n                        <TableCell align=\"right\">Total Material</TableCell>\n                        <TableCell align=\"right\">Total Labor</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {\n                        Object.keys(this.props.room).length &&\n                        Object.keys(this.props.room.lineItems)\n                        .map((lineItemUUID, key) => {\n                          const lineItem = this.props.room.lineItems[lineItemUUID]\n                          if (lineItem === undefined) return;\n                          return (\n                            <ExpandingRow\n                              lineItem={lineItem}\n                              key={key}\n                              roomUUID={roomUUID}\n                              lineItemUUID={lineItemUUID}\n                              handleLineItemChange={this.props.handleLineItemChange}\n                              handleCostInputBlur={this.props.handleCostInputBlur}\n                              removeLineItem={this.props.removeLineItem}\n                              saveCopyOfLineItem={saveCopyOfLineItem}\n                            />\n                          )\n                        })\n                      }\n                    </TableBody>\n                  </Table>\n                </Paper>\n              </div>\n\n              <div className=\"flex flex-column flex-row-l justify-between pv4\">\n                <div className=\"w-100 w-50-l br bw1 b--light-gray pr4\">\n                  <div className=\"NewLineItem__container ph1 pb2\">\n                    { this.props.errors.newLineItem && ( <p className=\"dinLabel red f6 o-70\"> {this.props.errors.newLineItem } </p> )}\n                    <input\n                      className=\"InputField measure-1 ml3\"\n                      type=\"text\"\n                      name=\"newLineItemDescription\"\n                      placeholder=\"Enter the line-item's description\"\n                      value={this.props.newLineItemDescription}\n                      onChange={this.props.handleChange}\n                    />\n                    <label htmlFor=\"newLineItemDescription\">\n                      <p className=\"dinLabel pa0 ma0 mb2 f7 ttc tc\">\n                        description\n                      </p>\n                    </label>\n\n                    <div className=\"flex flex-row items-center flex-wrap justify-start\">\n                      <div className=\"w-auto w-20-l flex flex-column items-center mr2 ml3\">\n                        <input\n                          className=\"InputField tc\"\n                          type=\"number\"\n                          name=\"newLineItemQuantity\"\n                          placeholder=\"1\"\n                          onChange={this.props.handleChange}\n                          value={this.props.newLineItemQuantity}\n                        />\n                        <label htmlFor=\"newLineItemQuantity\">\n                          <p className=\"dinLabel pa0 ma0 mb2 f7 ttc\">\n                            qty\n                          </p>\n                        </label>\n                      </div>\n\n                      <div className=\"w-auto w-20-l flex flex-column items-center mr2 ml3\">\n                        <div className=\"relative InputField flex flex-row justify-center pointer ph3\">\n                          <p className=\"dinLabel ttu mid-gray f7 pa0 ma0 self-center mr3\">\n                            { this.props.newLineItemUOM || 'UOM'}\n                          </p>\n                          <div className=\"ArrowIcon self-center rotate-90\"><Arrow /></div>\n                          <select onChange={this.props.handleChange} name=\"newLineItemUOM\" className=\"absolute z-2 top-0 left-0 w-100 h-100 o-0 pointer ttc\">\n                            <option value=\"CY\">cubic yard</option>\n                            <option value=\"DA\">day</option>\n                            <option value=\"EA\">each</option>\n                            <option value=\"HR\">hour</option>\n                            <option value=\"JC\">job cost</option>\n                            <option value=\"LF\">linear foot</option>\n                            <option value=\"LS\">lump sum</option>\n                            <option value=\"MC\">mininum change</option>\n                            <option value=\"MO\">month</option>\n                            <option value=\"RM\">room</option>\n                            <option value=\"SF\">square foot</option>\n                            <option value=\"SQ\">square</option>\n                            <option value=\"SY\">square yard</option>\n                            <option value=\"TN\">ton</option>\n                            <option value=\"WK\">week</option>\n                          </select>\n                        </div>\n                        <label htmlFor=\"newLineItemUOM\">\n                          <p className=\"dinLabel pa0 ma0 mb2 f7 ttu\">\n                            uom\n                          </p>\n                        </label>\n                      </div>\n\n                      <div className=\"w-auto w-20-l flex flex-column items-center mr2\">\n                        <div className=\"flex flex-row items-center\">\n                          <span className=\"dinLabel f7 mh1\">\n                            $\n                          </span>\n                          <input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0.00\"\n                            onBlur={this.props.handleCostInputBlur}\n                            className=\"InputField tc\"\n                            name=\"newLineItemLaborCost\"\n                            value={this.props.newLineItemLaborCost}\n                            onChange={this.props.handleChange}\n                          />\n                        </div>\n                        <label htmlFor=\"newLineItemLaborCost\">\n                          <p className=\"dinLabel pa0 ma0 mb2 f7 ttc\">\n                            labor\n                          </p>\n                        </label>\n                      </div>\n\n                      <div className=\"w-auto w-20-l flex flex-column items-center mr2\">\n                        <div className=\"flex flex-row items-center\">\n                          <span className=\"dinLabel f7 mh1\">\n                            $\n                          </span>\n                          <input\n                            type=\"number\"\n                            step=\"0.01\"\n                            min=\"0.00\"\n                            onBlur={this.props.handleCostInputBlur}\n                            className=\"InputField tc\"\n                            name=\"newLineItemMaterialCost\"\n                            value={this.props.newLineItemMaterialCost}\n                            onChange={this.props.handleChange}\n                          />\n                        </div>\n                        <label htmlFor=\"newLineItemMaterialCost\">\n                          <p className=\"dinLabel pa0 ma0 mb2 f7 ttc\">\n                            material\n                          </p>\n                        </label>\n                      </div>\n\n                    </div>\n                    {\n                    //   <button\n                    //   className=\"flex flex-row items-center dinLabel f7 mid-gray self-start pointer bt-0 bl-0 br-0 bg-transparent mt2\"\n                    // >\n                    //   ADD LINE ITEMS\n                    // </button>\n                    }\n                    <button\n                      className=\"GenericButton tc dinLabel pv3 f7 mt3 ttu\"\n                      onClick={() => this.props.addNewLineItem(roomUUID)}\n                      >\n                      add line item\n                    </button>\n                  </div>\n                </div>\n                <div className=\"w-100 w-50-l bt b--light-gray bw1 pt2 mt2 mt0-l bn-l pt0-l\">\n                  <p className=\"dinTitle f7 mid-gray tc tr-l pt1\">\n                    Saved Line-Items\n                  </p>\n                  <div className=\"pl3-l\">\n                    <Paper className={classes.root}>\n                      <Table className={classes.table}>\n                        <TableHead>\n                          <TableRow>\n                            <TableCell align=\"right\"><span className=\"green\">Re-use</span></TableCell>\n                            <TableCell align=\"right\">Description</TableCell>\n                            <TableCell align=\"right\">Quantity</TableCell>\n                            <TableCell align=\"right\">UOM</TableCell>\n                            <TableCell align=\"right\">Labor Cost</TableCell>\n                            <TableCell align=\"right\">Material Cost</TableCell>\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {\n                            allSavedLineItems.map((lineItem, id) => {\n                              if (lineItem === undefined) return;\n                              return (\n                                <TableRow key={id}>\n                                  <TableCell align=\"right\">\n                                    <div\n                                      className=\"h-100 items-center flex flex-row pointer dim\"\n                                      onClick={() => {\n                                        setNewLineItemInState({\n                                          description: lineItem.description,\n                                          quantity: lineItem.quantity,\n                                          UOM: lineItem.uom,\n                                          laborUnitPrice: lineItem.laborUnitPrice,\n                                          materialUnitPrice: lineItem.materialUnitPrice\n                                        })\n                                      }}\n                                      >\n                                      <p className=\"dinTitle f7 mid-gray tc\">Re-use</p>\n                                    </div>\n                                  </TableCell>\n                                  <TableCell align=\"right\">{lineItem.description}</TableCell>\n                                  <TableCell align=\"right\">{lineItem.quantity || 'n/a'}</TableCell>\n                                  <TableCell align=\"right\">{lineItem.uom || 'n/a'}</TableCell>\n                                  <TableCell align=\"right\">{lineItem.laborUnitPrice || 'n/a'}</TableCell>\n                                  <TableCell align=\"right\">{lineItem.materialUnitPrice || 'n/a'}</TableCell>\n                                </TableRow>\n                              )\n                            })\n                          }\n                        </TableBody>\n                      </Table>\n                    </Paper>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"sticky bottom-0 dib self-center w-100 bg-white\">\n              <p className=\"dinLabel mid-gray f6 ttu pointer tc dim\"\n                onClick={() => this.props.history.goBack()}>\n                close\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass CreateInvoice extends Component {\n  constructor(props) {\n    super(props)\n    this.handleChange = this.handleChange.bind(this)\n    this.addNewRoom = this.addNewRoom.bind(this)\n    this.autoSave = this.autoSave.bind(this)\n    this.addNewLineItem = this.addNewLineItem.bind(this)\n    this.handleCostInputBlur = this.handleCostInputBlur.bind(this)\n    this.calculateTotals = this.calculateTotals.bind(this)\n    this.handleLineItemChange = this.handleLineItemChange.bind(this)\n    this.handleImageChange = this.handleImageChange.bind(this)\n    this.removeRoom = this.removeRoom.bind(this)\n    this.removeLineItem = this.removeLineItem.bind(this)\n    this.sumTotals = this.sumTotals.bind(this)\n    this.removeUploadedImage = this.removeUploadedImage.bind(this)\n    this.sumRoomTotals = this.sumRoomTotals.bind(this)\n    this.uploadImage = this.uploadImage.bind(this)\n    this.generateInvoice = this.generateInvoice.bind(this)\n    this.setNewLineItemInState = this.setNewLineItemInState.bind(this)\n    this.saveCopyOfLineItem = this.saveCopyOfLineItem.bind(this)\n    this.addCreditToRunningTotals = this.addCreditToRunningTotals.bind(this)\n    this.invoiceContainerRef = createRef()\n    this.draftTimeoutId = null\n    this.customerKnackId = ''\n    this.whitelistedKeys = [\n      'invoiceName',\n      // customer details\n      'customersFullName',\n      'customersAddress',\n      'customersCityState',\n      'customersZipCode',\n      // claim details\n      'insuranceCarrier',\n      'policyNumber',\n      'claimNumber',\n      'dateOfLoss',\n      // rooms, includes lineItems\n      'rooms',\n      // totals\n      'totalLaborCost',\n      'totalMaterialCost',\n      'totalCost',\n      'creditToApply'\n      ]\n\n    this.state = {\n      invoiceName: '',\n      insuranceCarrier: '',\n      policyNumber: '',\n      claimNumber: '',\n      dateOfLoss: \"2019-01-01\",\n      customersFullName: '',\n      customersAddress: '',\n      customersCityState: '',\n      customersZipCode: '',\n      newRoomName: '',\n      newRoomLength: '',\n      newRoomWidth: '',\n      newRoomHeight: '8',\n      newRoomLineItems: '',\n      // new line-item properties (Labor/Material Cost, Unit, Quantity, Description)\n      newLineItemDescription: '',\n      newLineItemQuantity: '1',\n      newLineItemUOM: '',\n      newLineItemLaborCost: '0.00',\n      newLineItemMaterialCost: '0.00',\n\n      // saved line-items\n      allSavedLineItems: [],\n\n      rooms: {},\n      totalLaborCost: '0',\n      totalMaterialCost: '0',\n      totalCost: '0',\n      creditToApply: '0',\n\n      errors: {\n        newRoom: '',\n        newLineItem: '',\n        roomImages: '',\n        allSavedLineItems: ''\n      },\n\n      uploadedImages: {\n\n      },\n      beginAutoSave: false,\n      autoSaving: false,\n      generatingInvoice: false,\n      applyCredit: false,\n      uploadingImage: false\n    }\n  }\n\n  sumTotals(roomUUID, lineItems) {\n    const currentRoom = this.state.rooms[roomUUID]\n    if (currentRoom === undefined) return;\n    const lineItemTotals = Object.keys(lineItems).reduce((totalsObj, lineItemUUID) => {\n      const currentLineItem = lineItems[lineItemUUID]\n      if (currentLineItem === undefined || typeof currentLineItem === \"undefined\") return totalsObj;\n      totalsObj.totalLabor = (parseFloat(totalsObj.totalLabor) + parseFloat(currentLineItem.totalLabor)).toFixed(2)\n      totalsObj.totalMaterial = (parseFloat(totalsObj.totalMaterial) + parseFloat(currentLineItem.totalMaterial)).toFixed(2)\n      totalsObj.totalCost = (parseFloat(totalsObj.totalCost) + parseFloat(currentLineItem.total)).toFixed(2)\n      return totalsObj\n    }, {\n      totalLabor: '0',\n      totalMaterial: '0',\n      totalCost: '0'\n    })\n    return lineItemTotals;\n  }\n\n  sumRoomTotals() {\n    return Object.keys(this.state.rooms).reduce((totalsObj, roomUUID) => {\n      const currentRoom = this.state.rooms[roomUUID]\n      if (currentRoom === undefined) return totalsObj;\n      const { totalLabor, totalMaterial, totalCost } = currentRoom.roomTotals\n      totalsObj.totalLaborCost = (parseFloat(totalsObj.totalLaborCost) + parseFloat(totalLabor)).toFixed(2)\n      totalsObj.totalMaterialCost = (parseFloat(totalsObj.totalMaterialCost) + parseFloat(totalMaterial)).toFixed(2)\n      totalsObj.totalCost = (parseFloat(totalsObj.totalCost) + parseFloat(totalCost)).toFixed(2)\n      return totalsObj\n    }, {\n      totalLaborCost: '0',\n      totalMaterialCost: '0',\n      totalCost: '0'\n    })\n  }\n\n  addCreditToRunningTotals(totalsObj, creditToApply = \"0\") {\n    const totalCostWithCredit = (parseFloat(totalsObj.totalCost) - parseFloat(creditToApply)).toFixed(2);\n    return {\n      ...totalsObj,\n      totalCost:  isNaN(totalCostWithCredit) ? totalsObj.totalCost : (totalCostWithCredit < 0 ? '0.00' : totalCostWithCredit)\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if ((prevState.rooms !== this.state.rooms) || (prevState.creditToApply !== this.state.creditToApply)) {\n      this.setState({\n        ...this.addCreditToRunningTotals(this.sumRoomTotals(), this.state.creditToApply)\n      })\n    }\n\n    if (this.state.beginAutoSave && compareKeys(prevState, this.state, this.whitelistedKeys)) {\n      // If a timer is already started, clear it\n      if (this.draftTimeoutId) clearTimeout(this.draftTimeoutId);\n\n      // Set timer that will autosave this invoice on the backend when it fires\n      this.draftTimeoutId = setTimeout(this.autoSave, 1250)\n    }\n  }\n\n  componentDidMount() {\n    const { token } = this.props\n    agent.setToken(token)\n\n    // fetch all current saved line-items to pass to lineItems components\n    agent.requests\n      .get(`line-items`)\n      .then(body => {\n        const {\n          success,\n          allSavedLineItems\n        } = body;\n        if (success) {\n          this.setState({\n            allSavedLineItems\n          })\n        }\n      })\n      .catch(error => {\n        console.log(\"Error while fetching all saved line-items\", error)\n        this.setState({\n          errors: {\n            ...this.state.errors,\n            allSavedLineItems: \"Sorry, we could not load the saved line-items right now. Please refresh the page and try again.\"\n          }\n        })\n      })\n\n    // check if we have query param\n    if (this.props.location.search) {\n      // turn query search string from URL into object\n      const query = this.props.location.search.replace(/(^\\?)/,'').split(\"&\").reduce((queryObj, keyValue) => {\n        const [key, value] = keyValue.split(\"=\")\n        queryObj[key] = value\n        return queryObj\n      },{})\n\n      if (query.customer_id) {\n        this.customerKnackId = query.customer_id\n        agent.requests.get(`knack/search-customers/${query.customer_id}`).then((response) => {\n          if (response.response.statusCode === 401) {\n            this.props.dispatch({ type: \"LOGOUT\" })\n          }\n          return response\n        }).then(({response: res}) => {\n          const knackCustomersFullName = res.body[`${process.env.REACT_APP_KNACK_CUSTOMERS_TABLE_NAME_FIELD}_raw`]\n          const { city, state, zip, street, street2 } = res.body[`${process.env.REACT_APP_KNACK_CUSTOMERS_TABLE_ADDRESS_FIELD}_raw`]\n          const knackCustomerClaimNumber = res.body[`${process.env.REACT_APP_KNACK_CUSTOMERS_TABLE_CLAIM_NUMBER_FIELD}_raw`]\n          // initialize draft invoice on backend, will find existing draft invoice,\n          // or create new draft invoice\n          agent.setToken(token)\n          return agent.requests.post(`invoices/${this.props.match.params.draftId}`)\n            .then((invoice) => {\n              this.setState({\n                ...this.state,\n                invoiceName: invoice.invoiceName,\n                customersFullName: (knackCustomersFullName || ''),\n                customersAddress: `${street || ''} ${street2 || ''}`,\n                customersCityState: ((city && state) ? `${city} , ${state}` : ''),\n                customersZipCode: (zip || ''),\n                insuranceCarrier: invoice.claim.insuranceCarrier,\n                policyNumber: invoice.claim.policyNumber,\n                claimNumber: (knackCustomerClaimNumber && knackCustomerClaimNumber.trim()) || invoice.claim.claimNumber,\n                dateOfLoss: invoice.claim.dateOfLoss,\n                rooms: invoice.rooms || {},\n                totalLaborCost: invoice.totalLaborCost,\n                totalMaterialCost: invoice.totalMaterialCost,\n                totalCost: invoice.totalCost,\n                uploadedImages: invoice.images ? invoice.images : {},\n                customerKnackId: this.customerKnackId,\n                beginAutoSave: true\n            })\n          })\n        })\n        .catch((err) => {\n          console.log('error fetching customer in CreateInvoice', err)\n        })\n      }\n    } else {\n      // initialize draft invoice on backend, will find existing draft invoice,\n      // or create new draft invoice\n      agent.requests.post(`invoices/${this.props.match.params.draftId}`).then((invoice) => {\n        this.setState({\n          ...this.state,\n          invoiceName: invoice.invoiceName,\n          customersFullName: invoice.customer.fullName,\n          customersAddress: invoice.customer.address,\n          customersCityState: invoice.customer.cityState,\n          customersZipCode: invoice.customer.zipCode,\n          insuranceCarrier: invoice.claim.insuranceCarrier,\n          policyNumber: invoice.claim.policyNumber,\n          claimNumber: invoice.claim.claimNumber,\n          dateOfLoss: invoice.claim.dateOfLoss,\n          rooms: invoice.rooms || {},\n          totalLaborCost: invoice.totalLaborCost,\n          totalMaterialCost: invoice.totalMaterialCost,\n          totalCost: invoice.totalCost,\n          uploadedImages: invoice.images ? invoice.images : {},\n          customerKnackId: invoice.customer.customerKnackId,\n          beginAutoSave: true\n        })\n      }).catch((err) => {\n        if (err.status === 422 && err.response && err.response.body.error === \"NOT_DRAFT\") {\n          // redirect to pdf detailed version since invoice can no longer be updated\n          this.props.history.push(`/invoices/pdf/${this.props.match.params.draftId}`)\n        }\n        console.log('There was an error when attempting find or create a draft invoice on CreateInvoice componentDidMount', { ...err })\n      })\n    }\n\n  }\n\n  componentWillUnmount() {\n    if (this.draftTimeoutId) clearTimeout(this.draftTimeoutId)\n  }\n\n  uploadImage(notUploadedImages){\n    Object.keys(notUploadedImages).forEach((imageUUID) => {\n      this.setState({\n        uploadingImage: true\n      })\n      const file = notUploadedImages[imageUUID].file\n      const copyNotUploadedImages = { ...notUploadedImages }\n      delete copyNotUploadedImages[imageUUID]\n      agent.requests.postImage(`invoices/${this.props.match.params.draftId}`, file).then((invoice) => {\n        this.setState({\n          ...this.state,\n          uploadedImages: invoice.images,\n        })\n      })\n      .catch((err) => {\n        if (err.status === 422 && err.response && err.response.body.error === \"NOT_DRAFT\") {\n          // redirect to pdf detailed version since invoice can no longer be updated\n          alert(\"This invoice is no longer a draft please therefore it can no longer be modified. Either create a new invoice or refresh the page to view the generated PDF.\")\n        }\n        console.log('There was an error when attempting find or create a draft invoice on CreateInvoice uploadImage', { ...err })\n      })\n      .finally(() => {\n        this.setState({\n          uploadingImage: false\n        })\n      })\n    })\n  }\n\n  saveCopyOfLineItem(roomUUID, lineItemUUID) {\n    const { token } = this.props;\n    const {\n      [roomUUID]: {\n        lineItems: {\n          [lineItemUUID]: {\n            description: lineItemDescription,\n            laborCost: lineItemLaborUnitPrice,\n            materialCost: lineItemMaterialUnitPrice,\n            quantity: lineItemQuantity,\n            uom: lineItemUnitOM\n          }\n        }\n      }\n    } = this.state.rooms;\n    agent.setToken(token)\n    agent.requests.post('line-items/save', {\n      lineItemDescription,\n      lineItemMaterialUnitPrice,\n      lineItemLaborUnitPrice,\n      lineItemQuantity,\n      lineItemUnitOM\n    })\n    .then(body => {\n      console.log(\"response is\", body)\n      const {\n        success,\n        allSavedLineItems\n      } = body;\n      if (success) {\n        this.setState({\n          allSavedLineItems\n        })\n      }\n    })\n    .catch(error => {\n      console.log(\"Error while saving line-item\", error)\n      // TODO: Add property error state.errors to render it in UI above inputs of existing line-item\n      // in order to reflect an error caught here\n    })\n\n  }\n\n  autoSave() {\n    const currentState = {...this.state}\n    this.setState({\n      autoSaving: true\n    })\n    const requestBody = this.whitelistedKeys.reduce((requestBodyObj, whitelistedKey) => {\n      requestBodyObj[whitelistedKey] = currentState[whitelistedKey]\n      return requestBodyObj\n    }, {})\n    const { token } = this.props\n    agent.setToken(token)\n    agent.requests.post(`invoices/${this.props.match.params.draftId}`, { customerKnackId: this.state.customerKnackId, ...requestBody } ).then((invoice) => {\n      // succesfully updated invoice\n      this.setState({\n        autoSaving: false\n      })\n    }).catch((err) => {\n      if (err.status === 422 && err.response && err.response.body.error === \"NOT_DRAFT\") {\n        // redirect to pdf detailed version since invoice can no longer be updated\n        alert(\"NOT A DRAFT\")\n        this.setState({\n          autoSaving: false\n        })\n      }\n      console.log('There was an error when attempting find or create a draft invoice on CreateInvoice autoSave', { ...err })\n    })\n  }\n\n  // this handles updating existing lineItem's by being passed the roomUUID of\n  // the line item's room, and also the lineItemUUID of the line item\n  handleLineItemChange(e, roomUUID, lineItemUUID) {\n    const eventTargetName = e.target.name\n    const eventTargetValue = e.target.value\n    const calcCB = (prevState) => {\n      const { laborTotal, materialTotal, combinedTotal } = this.calculateTotals(\n        (eventTargetName === 'quantity' ? (eventTargetValue.trim() || '0') : (prevState.rooms[roomUUID].lineItems[lineItemUUID].quantity.trim() || '0')),\n        prevState.rooms[roomUUID].lineItems[lineItemUUID].uom,\n        (eventTargetName === 'laborCost' ? (eventTargetValue.trim() || '0') : (prevState.rooms[roomUUID].lineItems[lineItemUUID].laborCost.trim() || '0')),\n        (eventTargetName === 'materialCost' ? (eventTargetValue.trim() || '0') : (prevState.rooms[roomUUID].lineItems[lineItemUUID].materialCost.trim() || '0' )))\n      return {\n        ...prevState.rooms[roomUUID].lineItems[lineItemUUID],\n        [eventTargetName] : eventTargetValue,\n        totalLabor: laborTotal,\n        totalMaterial: materialTotal,\n        total: combinedTotal\n      }\n    }\n    const updatedLineItem = calcCB(this.state)\n    return this.setState({\n      ...this.state,\n      rooms: {\n        ...this.state.rooms,\n        [roomUUID]: {\n          ...this.state.rooms[roomUUID],\n          lineItems: {\n            ...this.state.rooms[roomUUID].lineItems,\n            [lineItemUUID] : updatedLineItem\n          },\n          roomTotals: {\n            ...this.state.rooms[roomUUID].roomTotals,\n            ...this.sumTotals(roomUUID, {...this.state.rooms[roomUUID].lineItems, [lineItemUUID] : updatedLineItem })\n          }\n        }\n      }\n    })\n  }\n\n  // this handles newLineItems and newRooms because of it being on the root of the state,\n  // it also handles existing rooms, by being passed the uuid of the room\n  handleChange(e, roomUUID) {\n    const uuid = roomUUID\n    if (uuid) {\n      const eventTargetName = e.target.name\n      const eventTargetValue = e.target.value\n      this.setState((prevState) => ({\n        ...prevState,\n        rooms: {\n          ...prevState.rooms,\n          [uuid]: {\n            ...prevState.rooms[uuid],\n            [eventTargetName]: eventTargetValue\n          }\n        }\n      }))\n    } else {\n      return this.setState({\n        ...this.state,\n        [e.target.name] : e.target.value\n      })\n    }\n  }\n\n  handleCostInputBlur(e, roomUUID, lineItemUUID) {\n    if (lineItemUUID && roomUUID) {\n      // make sure factors are not empty strings before calculating\n      if ((e.target.name === 'laborCost' || e.target.name === 'materialCost' || e.target.name === 'quantity')) {\n        const calcCB = (prevState) => {\n          let totals;\n          if (this.state.rooms[roomUUID].lineItems[lineItemUUID][e.target.name].trim()) {\n            totals = this.calculateTotals(prevState.rooms[roomUUID].lineItems[lineItemUUID].quantity, prevState.rooms[roomUUID].lineItems[lineItemUUID].uom, prevState.rooms[roomUUID].lineItems[lineItemUUID].laborCost, prevState.rooms[roomUUID].lineItems[lineItemUUID].materialCost)\n            return {\n              ...prevState.rooms[roomUUID].lineItems[lineItemUUID],\n              totalLabor: totals.laborTotal,\n              totalMaterial: totals.materialTotal,\n              total: totals.combinedTotal\n            }\n          }\n          if (e.target.name === 'laborCost') {\n            totals = this.calculateTotals(prevState.rooms[roomUUID].lineItems[lineItemUUID].quantity, prevState.rooms[roomUUID].lineItems[lineItemUUID].uom, '0.00', prevState.rooms[roomUUID].lineItems[lineItemUUID].materialCost)\n          } else if (e.target.name === 'materialCost') {\n            totals = this.calculateTotals(prevState.rooms[roomUUID].lineItems[lineItemUUID].quantity, prevState.rooms[roomUUID].lineItems[lineItemUUID].uom, prevState.rooms[roomUUID].lineItems[lineItemUUID].laborCost, '0.00')\n          } else if (e.target.name === 'quantity') {\n            totals = this.calculateTotals('0', prevState.rooms[roomUUID].lineItems[lineItemUUID].uom, prevState.rooms[roomUUID].lineItems[lineItemUUID].laborCost, prevState.rooms[roomUUID].lineItems[lineItemUUID].materialCost)\n          }\n          return {\n            ...prevState.rooms[roomUUID].lineItems[lineItemUUID],\n            [e.target.name]: (e.target.name === 'quantity' ? '0' : '0.00'),\n            totalLabor: totals.laborTotal,\n            totalMaterial: totals.materialTotal,\n            total: totals.combinedTotal\n          }\n        }\n        return this.setState({\n          ...this.state,\n          rooms: {\n            ...this.state.rooms,\n            [roomUUID]: {\n              ...this.state.rooms[roomUUID],\n              lineItems: {\n                ...this.state.rooms[roomUUID].lineItems,\n                [lineItemUUID] : calcCB(this.state)\n              }\n            }\n          }\n        })\n      }\n\n    }\n    if ((e.target.name === 'newLineItemLaborCost' || e.target.name === 'newLineItemMaterialCost') && !this.state[e.target.name].trim()) {\n      return this.setState({\n        [e.target.name] : '0.00'\n      })\n    }\n    return;\n  }\n\n  calculateTotals(quantity, uom, laborCost, materialCost) {\n    // implement feature later on to have different precisions https://fdotwww.blob.core.windows.net/sitefinity/docs/default-source/programmanagement/estimates/basisofestimates/boemanual/files/chapter02.pdf?sfvrsn=f052688d_4\n    // for different units (UOM)\n    const laborTotal = (parseFloat(quantity) * parseFloat(laborCost)).toFixed(2)\n    const materialTotal = (parseFloat(quantity) * parseFloat(materialCost)).toFixed(2)\n    const combinedTotal = (parseFloat(laborTotal) + parseFloat(materialTotal)).toFixed(2)\n    return {\n      laborTotal,\n      materialTotal,\n      combinedTotal\n    }\n  }\n\n  setNewLineItemInState(newLineItem) {\n    this.setState({\n      newLineItemDescription: newLineItem.description || '',\n      newLineItemQuantity: `${newLineItem.quantity}` || '1',\n      newLineItemUOM: newLineItem.UOM || '',\n      newLineItemLaborCost: newLineItem.laborUnitPrice || '0.00',\n      newLineItemMaterialCost: newLineItem.materialUnitPrice || '0.00'\n    })\n  }\n\n  addNewLineItem(roomUUID) {\n    const {\n      newLineItemDescription : description,\n      newLineItemQuantity : quantity,\n      newLineItemUOM : uom,\n      newLineItemLaborCost : laborCost,\n      newLineItemMaterialCost : materialCost,\n    } = this.state\n    const numberReg = /^-?\\d*(\\.\\d+)?$/;\n    if (!numberReg.test(laborCost) || !numberReg.test(materialCost) || !numberReg.test(quantity)) {\n      return this.setState((prevState) => ({\n        ...prevState,\n        errors : {\n          ...prevState.errors,\n          newLineItem: 'Labor cost, material cost, and quantity must be a number'\n        }\n      }))\n    }\n    if (!description.trim() || !(quantity > 0) || !uom.trim()) {\n      return this.setState((prevState) => ({\n        ...prevState,\n        errors : {\n          ...prevState.errors,\n          newLineItem: 'You must provide a quantity greater than 0, a UOM, and a description'\n        }\n      }))\n    }\n\n    // everythng is good, continue, make calculations\n    const { laborTotal, materialTotal, combinedTotal } = this.calculateTotals(quantity, uom, laborCost, materialCost)\n    const newlineItemUUID = createUUID();\n    const newLineItem = {\n      description: description,\n      uom: uom,\n      materialCost: materialCost,\n      laborCost: laborCost,\n      totalMaterial: materialTotal,\n      totalLabor: laborTotal,\n      quantity: quantity,\n      total: combinedTotal\n    }\n    return this.setState((prevState) => ({\n      errors: { ...prevState.errors, newLineItem: '' },\n      newLineItemDescription: '',\n      newLineItemQuantity: '1',\n      newLineItemUOM: '',\n      newLineItemLaborCost: '0.00',\n      newLineItemMaterialCost: '0.00',\n      rooms: {\n        ...prevState.rooms,\n        [roomUUID]: {\n          ...prevState.rooms[roomUUID],\n          lineItems: {\n            ...prevState.rooms[roomUUID].lineItems,\n            [newlineItemUUID] : newLineItem\n          },\n          roomTotals: {\n            ...this.state.rooms[roomUUID].roomTotals,\n            ...this.sumTotals(roomUUID, {...this.state.rooms[roomUUID].lineItems, [newlineItemUUID] : newLineItem })\n          }\n        }\n      }\n    }))\n\n  }\n\n  addNewRoom() {\n    const {\n      newRoomName : name ,\n      newRoomLength : length ,\n      newRoomWidth : width ,\n      newRoomHeight : height\n    } = this.state\n\n    if ( (!name.trim().length || !length.trim().length || !width.trim().length || !height.trim().length) ) {\n      return this.setState((prevState) => ({\n        ...prevState,\n        errors: {\n          ...prevState.errors,\n          newRoom: 'You must provide all fields for the new room'\n        }\n      }))\n    }\n\n    const newUUID = createUUID()\n\n    this.setState((prevState) =>\n      ({\n        errors: { ...prevState.errors, newRoom: '' },\n        newRoomName: '' ,\n        newRoomLength : '' ,\n        newRoomWidth : '' ,\n        newRoomHeight : '8',\n        rooms: {\n          ...prevState.rooms,\n          [newUUID] : {\n            name: name,\n            length: length,\n            width: width,\n            height: height,\n            lineItems: [\n            ],\n            roomTotals: {\n              totalLabor: '0',\n              totalMaterial: '0',\n              totalCost: '0'\n            }\n          }\n        }\n      })\n    )\n\n  }\n\n  removeRoom(roomUUID) {\n    return this.setState({\n      ...this.state,\n      rooms: {\n        ...this.state.rooms,\n        [roomUUID]: undefined\n      }\n    })\n  }\n\n  removeLineItem(roomUUID, lineItemUUID) {\n    return this.setState({\n      ...this.state,\n      rooms: {\n        ...this.state.rooms,\n        [roomUUID]: {\n          ...this.state.rooms[roomUUID],\n          lineItems: {\n            ...this.state.rooms[roomUUID].lineItems,\n            [lineItemUUID] : undefined\n          },\n          roomTotals: {\n            ...this.state.rooms[roomUUID].roomTotals,\n            ...this.sumTotals(roomUUID, {...this.state.rooms[roomUUID].lineItems, [lineItemUUID] : undefined })\n          }\n        }\n      }\n    })\n  }\n\n  removeUploadedImage(imageId) {\n    const { token } = this.props\n    const { draftId } = this.props.match.params\n    agent.setToken(token)\n    agent.requests\n    .post(`invoices/${draftId}/remove-image/${encodeURIComponent(imageId)}`)\n    .then((res) => {\n      if (res.id === draftId) { // consider it deleted succesfully\n        this.setState({\n          ...this.state,\n          uploadedImages : {\n            ...this.state.uploadedImages,\n            [imageId] : undefined\n          }\n        })\n      }\n    })\n  }\n\n  handleImageChange(e) {\n    const notUploadedImages = Array.from(e.target.files).reduce((notUploadedImagesObj, file) => {\n      if (!file) return notUploadedImagesObj;\n      const imageUUID = createUUID()\n      const previewUrl = URL.createObjectURL(file)\n      notUploadedImagesObj[imageUUID] = {\n        file,\n        previewUrl\n      }\n      return notUploadedImagesObj\n    }, {})\n    this.uploadImage(notUploadedImages)\n  }\n\n  generateInvoice() {\n    const { token, history } = this.props\n    agent.setToken(token)\n    return agent.requests.post(`invoices/${this.props.match.params.draftId}/generate-invoice`).then((knackResponse) => {\n      history.push(`/invoices/pdf/${this.props.match.params.draftId}`)\n    }).catch(err => {\n      console.log('There is an error in CreateInvoice in generateInvoice', err)\n    })\n  }\n\n  render() {\n    return (\n      <Fragment>\n        {\n          this.state.generatingInvoice ?\n          (<p className=\"dinTitle pa0 ma0 f3 mb3\">Generating Invoice ...</p>) :\n          (\n          <div ref={this.invoiceContainerRef}>\n            <Route\n              path={`${this.props.match.path}/line-items/:roomId`}\n              render={\n                (props) =>\n                  <LineItems\n                    handleCostInputBlur={this.handleCostInputBlur}\n                    addNewLineItem={this.addNewLineItem}\n                    newLineItemLaborCost={this.state.newLineItemLaborCost}\n                    newLineItemMaterialCost={this.state.newLineItemMaterialCost}\n                    newLineItemUOM={this.state.newLineItemUOM}\n                    newLineItemDescription={this.state.newLineItemDescription}\n                    newLineItemQuantity={this.state.newLineItemQuantity}\n                    handleLineItemChange={this.handleLineItemChange}\n                    errors={this.state.errors}\n                    handleChange={this.handleChange}\n                    removeLineItem={this.removeLineItem}\n                    room={this.state.rooms[props.match.params.roomId] || {}}\n                    allSavedLineItems={this.state.allSavedLineItems}\n                    setNewLineItemInState={this.setNewLineItemInState}\n                    saveCopyOfLineItem={this.saveCopyOfLineItem}\n                    {...this.props}\n                    {...props}\n                    />\n                }\n            />\n            <div className=\"flex flex-column measure-70 center ph4 pt5 mb5\">\n              <div className=\"flex flex-column flex-row-l w100\">\n\n                <div className=\"flex flex-column w-100 w-50-l pr5-l\">\n                  <p className=\"dinTitle pa0 ma0 f3 mb3\">\n                    Invoice Details\n                  </p>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"invoiceName\"\n                    placeholder=\"Enter the invoice name here\"\n                    value={this.state.invoiceName}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"invoiceName\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Invoice Name\n                    </p>\n                  </label>\n\n                  <p className=\"dinTitle pa0 ma0 f3 mb3 mt4\">\n                    Customer Details\n                  </p>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"customersFullName\"\n                    placeholder=\"Enter the customer's full here\"\n                    value={this.state.customersFullName}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"customersFullName\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Customers Full Name\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"customersAddress\"\n                    placeholder=\"Enter the customer's address here\"\n                    value={this.state.customersAddress}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"customersAddress\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Customer's Address\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"customersCityState\"\n                    placeholder=\"City, State\"\n                    value={this.state.customersCityState}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"customersCityState\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      City, State\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"customersZipCode\"\n                    placeholder=\"Zipcode\"\n                    value={this.state.customersZipCode}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"customersZipcode\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Zip Code\n                    </p>\n                  </label>\n\n                  <p className=\"dinTitle pa0 ma0 f4 mid-gray mb3 mt4 ttu\">\n                    claim details\n                  </p>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"insuranceCarrier\"\n                    placeholder=\"Enter the name of the insurance carrier\"\n                    value={this.state.insuranceCarrier}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"insuranceCarrier\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Insurance Carrier\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"policyNumber\"\n                    placeholder=\"Policy Number\"\n                    value={this.state.policyNumber}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"policyNumber\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Policy Number\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField\"\n                    type=\"text\"\n                    name=\"claimNumber\"\n                    placeholder=\"Claim Number\"\n                    value={this.state.claimNumber}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"claimNumber\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Claim Number\n                    </p>\n                  </label>\n\n                  <input\n                    className=\"InputField measure-1\"\n                    type=\"date\"\n                    name=\"dateOfLoss\"\n                    value={this.state.dateOfLoss}\n                    onChange={this.handleChange}\n                  />\n                  <label htmlFor=\"dateOfLoss\">\n                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                      Date of Loss\n                    </p>\n                  </label>\n                </div>\n\n                <div className=\"flex flex-column w-100 w-50-l pl5-l\">\n                  <p className=\"dinTitle pa0 ma0 f3 mb3\">\n                    Rooms\n                  </p>\n\n                  <div className=\"NewRoom__container\">\n                    { this.state.errors.newRoom && ( <p className=\"dinLabel red f6 o-70\"> {this.state.errors.newRoom } </p> )}\n                    <input\n                      className=\"InputField measure-1\"\n                      type=\"text\"\n                      name=\"newRoomName\"\n                      placeholder=\"Enter the room name\"\n                      value={this.state.newRoomName}\n                      onChange={this.handleChange}\n                    />\n                    <label htmlFor=\"newRoomName\">\n                      <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                        Room Name\n                      </p>\n                    </label>\n\n                    <div className=\"flex flex-row items-center justify-between\">\n\n                      <div className=\"flex flex-row items-center justify-between w-50 flex-grow-1\">\n\n                        <div className=\"w-30 flex flex-column items-center\">\n                          <input\n                            className=\"InputField tc\"\n                            type=\"number\"\n                            name=\"newRoomLength\"\n                            placeholder=\"0\"\n                            onChange={this.handleChange}\n                            value={this.state.newRoomLength}\n                          />\n                          <label htmlFor=\"newRoomLength\">\n                            <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                              Length\n                            </p>\n                          </label>\n                        </div>\n\n                        <div className=\"w-30 flex flex-column items-center\">\n                          <input\n                            className=\"InputField tc\"\n                            type=\"number\"\n                            name=\"newRoomWidth\"\n                            placeholder=\"0\"\n                            onChange={this.handleChange}\n                            value={this.state.newRoomWidth}\n                          />\n                          <label htmlFor=\"newRoomWidth\">\n                            <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                              Width\n                            </p>\n                          </label>\n                        </div>\n\n                        <div className=\"w-30 flex flex-column items-center\">\n                          <input\n                            className=\"InputField tc\"\n                            type=\"number\"\n                            name=\"newRoomHeight\"\n                            placeholder=\"0\"\n                            value={this.state.newRoomHeight}\n                            onChange={this.handleChange}\n                          />\n                        <label htmlFor=\"newRoomHeight\">\n                            <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                              Height\n                            </p>\n                          </label>\n                        </div>\n\n                      </div>\n\n                    </div>\n                    {\n                    //   <button\n                    //   className=\"flex flex-row items-center dinLabel f7 mid-gray self-start pointer bt-0 bl-0 br-0 bg-transparent mt2\"\n                    // >\n                    //   ADD LINE ITEMS\n                    // </button>\n                    }\n                    <button\n                      className=\"GenericButton tc dinLabel pv3 f7 mt3 ttu\"\n                      onClick={this.addNewRoom}\n                      >\n                      add room\n                    </button>\n                  </div>\n\n                  <div className=\"RoomsAccordion__container mt5\">\n                    <Accordion>\n                      {\n                        Object.keys(this.state.rooms).map((roomUUID, key) => {\n                          const room = this.state.rooms[roomUUID]\n                          if (room === undefined) return;\n                          return (\n                            <AccordionItem\n                              key={key}\n                            >\n                              <AccordionItemHeading className=\"w-100\">\n                                <AccordionItemButton className=\"accordion__button flex flex-row items-center justify-between\">\n                                  <p className=\"tc dinLabel f7 ttu\"> { room.name || roomUUID } </p>\n                                  <div className=\"flex flex-row items-center justify-between\">\n                                    <button\n                                      onClick={() => this.removeRoom(roomUUID)}\n                                      className=\"flex flex-row items-center self-center dinLabel f7 mid-gray pointer bn bg-transparent dim ttu\">\n                                      delete\n                                      <div className=\"ArrowIcon mh2\"><TrashIcon /></div>\n                                    </button>\n                                    <div className=\"ArrowIcon mh2\"><Arrow /></div>\n                                  </div>\n                                </AccordionItemButton>\n                              </AccordionItemHeading>\n                              <AccordionItemPanel>\n                                <div className=\"EditRoom__container pv4\">\n                                  <input\n                                    className=\"InputField measure-1\"\n                                    type=\"text\"\n                                    name=\"name\"\n                                    onChange={(e) => this.handleChange(e, roomUUID)}\n                                    placeholder=\"Enter the room name\"\n                                    value={room.name}\n                                  />\n                                  <label htmlFor=\"newRoomName\">\n                                    <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                                      Room Name\n                                    </p>\n                                  </label>\n\n                                  <div className=\"flex flex-row items-center justify-between\">\n\n                                    <div className=\"flex flex-row items-center justify-between w-50 flex-grow-1\">\n\n                                      <div className=\"w-30 flex flex-column items-center\">\n                                        <input\n                                          className=\"InputField tc\"\n                                          type=\"number\"\n                                          name=\"length\"\n                                          placeholder=\"0\"\n                                          onChange={(e) => this.handleChange(e, roomUUID)}\n                                          value={room.length}\n                                        />\n                                        <label htmlFor=\"newRoomLength\">\n                                          <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                                            Length\n                                          </p>\n                                        </label>\n                                      </div>\n\n                                      <div className=\"w-30 flex flex-column items-center\">\n                                        <input\n                                          className=\"InputField tc\"\n                                          type=\"number\"\n                                          name=\"width\"\n                                          placeholder=\"0\"\n                                          onChange={(e) => this.handleChange(e, roomUUID)}\n                                          value={room.width}\n                                        />\n                                        <label htmlFor=\"newRoomWidth\">\n                                          <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                                            Width\n                                          </p>\n                                        </label>\n                                      </div>\n\n                                      <div className=\"w-30 flex flex-column items-center\">\n                                        <input\n                                          className=\"InputField tc\"\n                                          type=\"number\"\n                                          name=\"height\"\n                                          placeholder=\"8\"\n                                          onChange={(e) => this.handleChange(e, roomUUID)}\n                                          value={room.height}\n                                        />\n                                      <label htmlFor=\"newRoomHeight\">\n                                          <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                                            Height\n                                          </p>\n                                        </label>\n                                      </div>\n                                    </div>\n\n                                  </div>\n                                  <Link to={`${this.props.match.path.replace(':draftId', this.props.match.params.draftId)}/line-items/${roomUUID}`}>\n                                    <div\n                                      className=\"flex flex-row items-center dinLabel f7 mid-gray self-start pointer bt-0 bl-0 br-0 bg-transparent mt2\"\n                                    >\n                                      ADD/EDIT LINE ITEMS\n                                    </div>\n                                  </Link>\n                                </div>\n                              </AccordionItemPanel>\n                            </AccordionItem>\n                          )\n                        })\n                      }\n                    </Accordion>\n                  </div>\n\n                  <div className=\"mt4\">\n                    { this.state.errors.roomImages && ( <p className=\"dinLabel red f6 o-70\"> {this.state.errors.roomImages } </p> )}\n                    <div className=\"ImageUploads__container relative w-40 ba bw1 flex items-center justify-center pv2 b--light-gray br2 flex-row\">\n                      <input\n                        type=\"file\"\n                        name=\"roomImages\"\n                        className=\"absolute w-100 h-100 o-0 pointer\"\n                        onChange={this.handleImageChange}\n                        accept=\"image/*\"\n                        disabled={this.state.uploadingImage}\n                        multiple\n                      />\n                      <p className={`dinLabel pa0 ma0 f7 gray ttu dib pointer tc ${this.state.uploadingImage ? 'o-20' : ''}`}>\n                        {\n                          this.state.uploadingImage ?\n                          'Uploading Image ...' :\n                          'Upload images'\n                        }\n                      </p>\n                    </div>\n                    <div className=\"w-100 mt3\">\n                      <ul className=\"list pa0 ma0 flex flex-row overflow-x-scroll overflow-y-hidden h100 pb2\">\n                        {\n                          Object.keys(this.state.uploadedImages).map((imageId, key) => {\n                            const uploadedImage = this.state.uploadedImages[imageId]\n                            if (uploadedImage === undefined || typeof uploadedImage === 'undefined') return;\n                            return (\n                              <li key={key}>\n                                <div className=\"RoomImagesContainer mr2 flex flex-column pb4\">\n                                  <img src={uploadedImage.url} width=\"auto\" height=\"270\" />\n                                  <button\n                                    onClick={() => this.removeUploadedImage(imageId)}\n                                    className=\"flex flex-row items-center self-center dinLabel f7 mid-gray pointer bn bg-transparent dim ttu\">\n                                    delete\n                                    <div className=\"ArrowIcon mh2\"><TrashIcon /></div>\n                                  </button>\n                                </div>\n                              </li>\n                            )\n                          })\n                        }\n                      </ul>\n                    </div>\n                  </div>\n\n                </div>\n              </div>\n              <div className=\"flex flex-column w-100 mt4\">\n                <ul className=\"list bb b-w1 b--light-gray pa0\">\n                  {\n                    Object.keys(this.state.rooms).map((roomUUID, key) => {\n                      const room = this.state.rooms[roomUUID]\n                      if (room === undefined) return;\n                      return (\n                        <li className=\"flex flex-column flex-row-l items-center justify-between\" key={key}>\n                          <p className=\"dinLabel f6 ttu\">\n                            { room.name || roomUUID }\n                          </p>\n                          <div className=\"flex flex-column flex-column-reverse flex-row-l flex-row-reverse-l\">\n                            <p className=\"dinLabel f7 pa0 mh1\">\n                              <span className=\"ttu black-60\">total: </span>\n                              ${ room.roomTotals.totalCost }\n                            </p>\n                            <p className=\"dinLabel f7 pa0 mh1\">\n                              <span className=\"ttu black-60\">total material: </span>\n                              ${ room.roomTotals.totalMaterial }\n                            </p>\n                            <p className=\"dinLabel f7 pa0 mh1\">\n                              <span className=\"ttu black-60\">total labor: </span>\n                              ${ room.roomTotals.totalLabor }\n                            </p>\n                          </div>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n                <div className=\"flex flex-column flex-row-l items-center justify-between\">\n                  <ul className=\"list pa0 tl\">\n                    <li>\n                      <p className=\"dinLabel f6\">\n                        <span className=\"ttu black-70\">total labor: </span>\n                        ${ this.state.totalLaborCost }\n                      </p>\n                    </li>\n                    <li>\n                      <p className=\"dinLabel f6\">\n                        <span className=\"ttu black-70\">total material: </span>\n                        ${ this.state.totalMaterialCost }\n                      </p>\n                    </li>\n                    <li>\n                      <div className=\"dinLabel f6\">\n                        <span className=\"ttu black-70\">total cost: </span>\n                        ${ this.state.totalCost }\n                        {\n                          (!this.state.applyCredit && this.state.creditToApply > 0) ?\n                          (\n                            <Fragment>\n                              <span className=\"db tl ttu f8 green o-2\">(credit applied ${parseFloat(this.state.creditToApply).toFixed(2)})</span>\n                              <button\n                                onClick={() => this.setState({ applyCredit: !this.state.applyCredit })}\n                                className=\"db mt1 dinTitle f8 mid-gray ba b--green tracked ttu tc pa2 br2 green 0-2 dim\">\n                                apply credit\n                              </button>\n                            </Fragment>\n                          ) :\n                            (\n                              this.state.applyCredit ?\n                              (\n                                <div className=\"flex flex-column\">\n                                  <input className=\"InputField tc pa0 green\" type=\"number\" name=\"creditToApply\" onChange={this.handleChange} placeholder=\"0.00\" value={this.state.creditToApply}/>\n                                  <label htmlFor=\"creditToApply\">\n                                    <p className=\"dinLabel pa0 ma0 mb2 f8 green tl ttc\">\n                                      credit to apply\n                                    </p>\n                                  </label>\n                                  <button\n                                    onClick={() => this.setState({ applyCredit: !this.state.applyCredit })}\n                                    className=\"db dinTitle f8 mid-gray ba b--green tracked ttu tc pa2 br2 green 0-2 dim\">\n                                    done\n                                  </button>\n                                </div>\n                              ) :\n                              (\n                                <button\n                                  onClick={() => this.setState({ applyCredit: !this.state.applyCredit })}\n                                  className=\"db mt1 dinTitle f8 mid-gray ba b--green tracked ttu tc pa2 br2 green 0-2 dim\">\n                                  apply credit\n                                </button>\n                              )\n                            )\n                        }\n                      </div>\n                    </li>\n                  </ul>\n                  <div className=\"w-40\">\n                    <button className=\"GenericButton tc dinLabel pv3 f7 mt3 ttu\" disabled={this.state.autoSaving} onClick={this.generateInvoice}>\n                      generate invoice\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          )\n        }\n      </Fragment>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  token: state.auth.token\n})\n\nexport default connect(mapStateToProps)(withStyles(styles)(CreateInvoice))\n","import { createSelector } from 'reselect'\n\nexport default createSelector(\n  (state) => state.globals.settings,\n  ({ companyName, companyPhoneNumber, companyEmail, companyAddress, companyCityState, companyZip, companyOpeningStatement }) => {\n    return {\n      companyName,\n      companyPhoneNumber,\n      companyEmail,\n      companyAddress,\n      companyCityState,\n      companyZip,\n      companyOpeningStatement\n    }\n  }\n)\n","import agent from '../../util/agent'\n\n// Dashboard Actions\nimport { fetchInvoicesToDo, fetchAllInvoices } from './dashboardActions'\n\nexport function initApp() {\n  return dispatch => {\n    return dispatch({\n      type: \"INIT_APP\",\n      payload: new Promise((resolve, reject) => {\n\n        // fetch all imporpant Data (dashboardActions, etc)\n        const fetchAll = Promise.all([\n          dispatch(fetchInvoicesToDo()),\n          dispatch(fetchAllInvoices()),\n          dispatch(fetchSettings())\n        ])\n\n        const timeout = new Promise((resolve, reject) => {\n          setTimeout(() => reject('Timeout'), 10000)\n        })\n\n        const checkTimeout = Promise.race([fetchAll, timeout])\n        return checkTimeout\n          .then(() => resolve())\n          .catch(err => reject(err))\n      })\n    })\n  }\n}\n\nexport function fetchSettings() {\n  return dispatch => {\n    return dispatch({\n      type: \"FETCH_SETTINGS\",\n      payload: agent.requests.get('settings')\n        .then(res => {\n          if (res.status === 401) {\n            dispatch({ type: \"LOGOUT\" })\n            return Promise.reject()\n          }\n          return res\n        }).catch(err => {\n          if (err.status === 401) {\n            dispatch({ type: \"LOGOUT\" })\n          }\n          return Promise.reject(err)\n        })\n    })\n  }\n}\n","import React, { Component, Fragment, CreateRef } from 'react'\nimport { connect } from 'react-redux'\n\n// Selectors\nimport getSettings from '../state/selectors/getSettings'\n\n// Utils\nimport compareKeys from '../util/compareWhitelistedKeys.js'\nimport agent from '../util/agent'\n\n// Redux Actions\nimport { fetchSettings } from '../state/actions/applicationActions'\n\n\n\nclass Settings extends Component {\n\n  constructor(props) {\n    super(props)\n    console.log('settings is', this.props.globals)\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.state = {\n      companyName: '',\n      companyPhoneNumber: '',\n      companyEmail: '',\n      companyAddress: '',\n      companyCityState: '',\n      companyZip: '',\n      companyOpeningStatement: '',\n      requestPending: false\n    }\n  }\n  componentDidMount() {\n    const {\n      companyName,\n      companyPhoneNumber,\n      companyEmail,\n      companyAddress,\n      companyCityState,\n      companyZip,\n      companyOpeningStatement\n    } = this.props.globals.settings\n    this.setState({\n      ...this.state,\n      companyName,\n      companyPhoneNumber,\n      companyEmail,\n      companyAddress,\n      companyCityState,\n      companyZip,\n      companyOpeningStatement\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (compareKeys(prevProps.globals.settings, this.props.globals.settings, Object.keys(this.state))) {\n      const {\n        companyName,\n        companyPhoneNumber,\n        companyEmail,\n        companyAddress,\n        companyCityState,\n        companyZip,\n        companyOpeningStatement\n      } = this.props.globals.settings\n      this.setState({\n        ...this.state,\n        companyName,\n        companyPhoneNumber,\n        companyEmail,\n        companyAddress,\n        companyCityState,\n        companyZip,\n        companyOpeningStatement\n      })\n    }\n  }\n\n  handleChange(e){\n    this.setState({\n      ...this.state,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleSubmit() {\n    this.setState({\n      ...this.state,\n      requestPending: true\n    })\n    const {\n      companyName,\n      companyPhoneNumber,\n      companyEmail,\n      companyAddress,\n      companyCityState,\n      companyZip,\n      companyOpeningStatement\n    } = this.state\n    agent.setToken(this.props.token)\n    agent.requests.post('settings/update', {\n      companyName,\n      companyPhoneNumber,\n      companyEmail,\n      companyAddress,\n      companyCityState,\n      companyZip,\n      companyOpeningStatement\n    })\n    .then(() => {\n      this.setState({\n        ...this.state,\n        requestPending: false\n      })\n      return this.props.fetchSettings()\n    }).catch((err) => {\n      this.setState({\n        ...this.state,\n        requestPending: false\n      })\n      console.log('There was an error caught in handleSubmit of Settings', { ...err })\n    })\n  }\n\n  render() {\n\n    return (\n      <div className=\"flex flex-column measure-70 center pt5 mb5\">\n\n        <div className=\"flex flex-row w100\">\n\n          <div className=\"flex flex-column w-100 ph4 w-60-l pr5\">\n\n            <p className=\"dinTitle pa0 ma0 f2 mb1\">\n              Settings\n            </p>\n            <p className=\"dinLabel pa0 ma0 f5 mb3 mid-gray\">\n              The settings below will configure the company header rendered on the <span className=\"ttu\">pdf</span>s\n            </p>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyName\"\n              placeholder=\"Enter the company name here\"\n              value={this.state.companyName}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyName\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                Company Name\n              </p>\n            </label>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyPhoneNumber\"\n              placeholder=\"Enter the company's phone number\"\n              value={this.state.companyPhoneNumber}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyPhoneNumber\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                Company Phone Number\n              </p>\n            </label>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyEmail\"\n              placeholder=\"Enter the company's email\"\n              value={this.state.companyEmail}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyEmail\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n              Company Email\n              </p>\n            </label>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyAddress\"\n              placeholder=\"Enter the company address\"\n              value={this.state.companyAddress}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyAddress\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                Company Address\n              </p>\n            </label>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyCityState\"\n              placeholder=\"City, State\"\n              value={this.state.companyCityState}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyCityState\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                City, State\n              </p>\n            </label>\n\n            <input\n              className=\"InputField\"\n              type=\"text\"\n              name=\"companyZip\"\n              placeholder=\"Zip Code\"\n              value={this.state.companyZip}\n              onChange={this.handleChange}\n            />\n            <label htmlFor=\"companyZip\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                Zip Code\n              </p>\n            </label>\n\n            <textarea\n              className=\"InputField ph4 pt2\"\n              type=\"text\"\n              name=\"companyOpeningStatement\"\n              placeholder=\"Enter the opening statement\"\n              onChange={this.handleChange}\n              defaultValue=\"Enter the opening statement\"\n              value={this.state.companyOpeningStatement}\n            >\n            </textarea>\n            <label htmlFor=\"companyOpeningStatement\">\n              <p className=\"dinLabel pa0 ma0 mb3 f6\">\n                Opening Statement\n              </p>\n            </label>\n\n            <div className=\"w-40\">\n              <button\n                className=\"GenericButton tc dinLabel pv3 f7 mt3 ttu\"\n                disabled={\n                  this.props.isLoading.globals.settings ||\n                  this.props.isError.globals.settings ||\n                  this.state.requestPending\n                }\n                onClick={this.handleSubmit}\n              >\n                save settings\n              </button>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { status, errors, auth } = state\n  const { settings: settingsStatus } = status.globals\n  const { settings: settingsError } = errors.globals\n  return {\n    isLoading: {\n      globals: {\n        settings: settingsStatus\n      }\n    },\n    isError: {\n      globals: {\n        settings:settingsError\n      }\n    },\n    globals: {\n      settings: getSettings(state)\n    },\n    token: auth.token\n  }\n}\n\nexport default connect(mapStateToProps, { fetchSettings })(Settings)\n","import React, { Component, PureComponent } from 'react'\nimport { connect } from 'react-redux'\nimport { Page, Text, View, Document, StyleSheet, PDFViewer, Image, PDFDownloadLink } from '@react-pdf/renderer';\n\n// Utils\nimport createUUID from '../util/createUUID'\nimport agent from '../util/agent'\n\n// Images\nimport logo from '../images/small_logo.png';\n\n// Selectors\nimport getSettings from '../state/selectors/getSettings'\n\n// Redux Actions\nimport { fetchSettings } from '../state/actions/applicationActions'\n\nconst calculateRoomMeasurements = (length, width, height) => {\n  let SFFloor = 0\n  let SFCeiling = 0\n  let SFWalls = 0\n\n  let SFWallsCeiling = 0\n  let SFWallsFloorCeiling = 0\n\n  let LFFloorPerim = 0\n  let LFCeilingPerim = 0\n\n  let LFFloorCeilingPerim = 0\n\n  SFFloor = length * width\n  SFCeiling = length * width\n  SFWalls = ((length * height) + (width * height)) * 2\n\n  SFWallsCeiling = SFWalls + SFCeiling\n  SFWallsFloorCeiling = SFWalls + SFFloor + SFCeiling\n\n  LFFloorPerim = (length * 2) + (width * 2)\n  LFCeilingPerim = (length * 2) + (width * 2)\n\n  LFFloorCeilingPerim = LFFloorPerim + LFCeilingPerim\n  return {\n    SFFloor,\n    SFCeiling,\n    SFWalls,\n    SFWallsCeiling,\n    SFWallsFloorCeiling,\n    LFFloorPerim,\n    LFCeilingPerim,\n    LFFloorCeilingPerim\n  }\n}\n\nconst styles = StyleSheet.create({\n  page: {\n    flexDirection: 'column',\n  },\n  headerContainer: {\n    flexDirection: \"row\",\n    padding: 40,\n    width: \"100%\",\n    alignItems: 'center'\n  },\n  smallText: {\n    fontSize: 10,\n    paddingBottom: 1,\n  }\n});\n\nconst PDFdocument = ({\n  companyName,\n  companyPhoneNumber,\n  companyEmail,\n  companyZip,\n  companyAddress,\n  companyCityState,\n  companyOpeningStatement,\n  allRooms,\n  allImages,\n  fullName,\n  address,\n  cityState,\n  zipCode,\n  insuranceCarrier,\n  policyNumber,\n  invoiceUUID,\n  totalCost,\n  creditApplied\n  }) => {\n\n  return (\n    <Document\n      title={`Invoice for ${fullName} - $${totalCost}`}>\n      <Page size=\"LETTER\" style={styles.page}>\n\n        <View style={[styles.headerContainer, { justifyContent: \"space-between\" }]} fixed>\n          <View style={{ width: 40}}>\n            <Image\n              src={logo}\n              style={{width: \"100%\"}}\n            />\n          </View>\n          <View style={{flexDirection: \"row\", alignItems: \"center\"}}>\n            <View style={{ alignItems: \"right\", marginRight: \"2%\"}}>\n              <Text\n                style={styles.smallText}\n              >\n                { companyName }\n              </Text>\n              <Text style={styles.smallText}>\n                {`Telephone | ${companyPhoneNumber}`}\n              </Text>\n              <Text style={styles.smallText}>\n                {`Billing Email | ${companyEmail}`}\n              </Text>\n              <Text style={styles.smallText}>\n                {`Mailing Address | ${companyAddress} ${companyCityState} ${companyZip}`}\n              </Text>\n            </View>\n            <Image\n              src={`/invoices/${invoiceUUID}/qr`}\n              style={{width: 40}}\n            />\n          </View>\n        </View>\n\n        <View style={{ flexDirection: \"column\", justifyContent: \"center\", flexGrow: 1 }}>\n          <View style={{flexDirection: \"row\", width: \"80%\", alignSelf: \"center\", paddingVertical: 20}}>\n            <Text style={[styles.smallText, {width: \"30%\"}]}>\n              Customer Name\n            </Text>\n            <Text style={[styles.smallText, {width: \"70%\", flexWrap: \"wrap\"}]}>\n              { fullName }\n            </Text>\n          </View>\n          <View style={{flexDirection: \"row\", width: \"80%\", alignSelf: \"center\", paddingVertical: 20}}>\n            <Text style={[styles.smallText, {width: \"30%\"}]}>\n              Property Address\n            </Text>\n            <View style={{flexDirection: \"column\", width: \"70%\"}}>\n              <Text style={styles.smallText}>\n                { address }\n              </Text>\n              <Text style={styles.smallText}>\n                { `${cityState} ${zipCode}` }\n              </Text>\n            </View>\n          </View>\n          <View style={{flexDirection: \"row\", width: \"80%\", alignSelf: \"center\", paddingVertical: 20}}>\n            <Text style={[styles.smallText, {width: \"30%\"}]}>\n              Insurance Carrier\n            </Text>\n            <Text style={[styles.smallText, {width: \"70%\", flexWrap: \"wrap\"}]}>\n              { insuranceCarrier }\n            </Text>\n          </View>\n          <View style={{flexDirection: \"row\", width: \"80%\", alignSelf: \"center\", paddingVertical: 20}}>\n            <Text style={[styles.smallText, {width: \"30%\"}]}>\n              Policy Number\n            </Text>\n            <Text style={[styles.smallText, {width: \"70%\", flexWrap: \"wrap\"}]}>\n              { policyNumber }\n            </Text>\n          </View>\n          <Text style={[styles.smallText, { width: \"80%\", borderTop: \"1 solid black\", alignSelf: \"center\", paddingTop: 10 }]}>\n            { companyOpeningStatement }\n          </Text>\n        </View>\n\n        <View style={{ flexDirection: \"column\", width: \"90%\", alignSelf: \"center\", minHeight: 500 }} break>\n          {\n            allRooms.map((room) => {\n              return (\n                <View style={{ flexDirection: \"column\", width:\"100%\", marginBottom: 30}}>\n                  <View style={{flexDirection: \"row\", justifyContent: \"space-between\", borderBottom: \"1 solid black\", paddingBottom: 5, marginBottom: 8 }}>\n                    <Text style={styles.smallText}>\n                      { room.name }\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`L: ${room.length} | W: ${room.width } | H: ${room.height}` }\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Square Footage of Floor\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.SFFloor} sq. ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Square Footage of Ceiling\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.SFCeiling} sq. ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Square Footage of Walls\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.SFWalls} sq. ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Square Footage of Walls & Ceiling\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.SFWallsCeiling} sq. ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Square Footage of Walls, Floor & Ceiling\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.SFWallsFloorCeiling} sq. ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Linear Footage of Floor Perimeter\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.LFFloorPerim} ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Linear Footage of Ceiling Perimeter\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.LFCeilingPerim} ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                    <Text style={[styles.smallText, { marginRight: 20 }]}>\n                      Linear Footage of Floor & Ceiling Perimeter\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`${room.LFFloorCeilingPerim} ft.`}\n                    </Text>\n                  </View>\n                  <View style={{ flexDirection: \"row\", justifyContent: \"center\", borderBottom: \"1 solid gray\", paddingBottom: 5, marginTop: 10, marginBottom: 5}}>\n                    <Text style={[styles.smallText, {width: \"20%\"}]}>\n                      Qty\n                    </Text>\n                    <Text style={[styles.smallText, {width: \"50%\"}]}>\n                      Description\n                    </Text>\n                    <Text style={[styles.smallText, {width: \"10%\"}]}>\n                      Labor Cost\n                    </Text>\n                    <Text style={[styles.smallText, {width: \"10%\"}]}>\n                      Unit Cost\n                    </Text>\n                    <Text style={[styles.smallText, {width: \"10%\", textAlign: \"right\"}]}>\n                      Total\n                    </Text>\n                  </View>\n                  {\n                    room.lineItems.map((item) => {\n                      return (\n                        <View style={{ flexDirection: \"row\", justifyContent: \"center\", paddingBottom: 10}}>\n                          <Text style={[styles.smallText, {width: \"20%\"}]}>\n                            {`${item.quantity} ${item.uom}`}\n                          </Text>\n                          <Text style={[styles.smallText, {width: \"50%\", flexWrap: \"wrap\", paddingRight: 1 }]}>\n                            { item.description }\n                          </Text>\n                          <Text style={[styles.smallText, {width: \"10%\"}]}>\n                            ${ item.laborCost }\n                          </Text>\n                          <Text style={[styles.smallText, {width: \"10%\"}]}>\n                            ${ item.materialCost }\n                          </Text>\n                          <Text style={[styles.smallText, {width: \"10%\", textAlign: \"right\"}]}>\n                            ${ item.total }\n                          </Text>\n                        </View>\n                      )\n                    })\n                  }\n                  <View style={{flexDirection: \"row\", justifyContent: \"space-between\", borderBottom: \"1 solid black\", paddingBottom: 5, marginBottom: 5 }}>\n                    <Text style={styles.smallText}>\n                      {`Totals - ${room.name}`}\n                    </Text>\n                    <Text style={styles.smallText}>\n                      {`Labor Totals: $${room.roomTotals.totalLabor} | Unit Totals: $${room.roomTotals.totalMaterial} | Totals: $${room.roomTotals.totalCost}`}\n                    </Text>\n                  </View>\n                </View>\n              )\n            })\n          }\n\n        </View>\n\n        <View style={{ flexDirection: \"column\", width: \"90%\", alignSelf: \"center\"}} break>\n          <Text style={[styles.smallText, { marginBottom: 10 }]} fixed>\n            { allImages.length > 0 && 'Images'}\n          </Text>\n          <View style={{ flexDirection: \"row\", width: \"100%\", alignSelf: \"center\", flexWrap: \"wrap\" }} break>\n            {\n              allImages.map((url) =>\n                <Image\n                  src={url}\n                  style={{width: \"40%\", marginRight: 10, marginBottom: 10}}\n                />\n              )\n            }\n          </View>\n        </View>\n\n\n        <View style={{ flexDirection: \"column\", width: \"90%\", alignSelf: \"center\", minHeight: 500}} break>\n          <Text style={[styles.smallText, { textAlign: \"right\", textDecoration: \"underline\"}]}>\n            Totals\n          </Text>\n          {\n            allRooms.map((room) => {\n              return (\n                <View style={{ flexDirection: \"row\", marginBottom: 2, justifyContent: \"space-between\" }}>\n                  <Text style={[styles.smallText, { marginRight: 20 }]}>\n                    { room.name }\n                  </Text>\n                  <Text style={styles.smallText}>\n                    ${room.roomTotals.totalCost}\n                  </Text>\n                </View>\n              )\n            })\n          }\n          <View style={{ flexDirection: \"row\", marginTop: 20, justifyContent: \"space-between\" }}>\n            <Text style={[styles.smallText, { marginRight: 20 }]}>\n              Credit Applied\n            </Text>\n            <Text style={styles.smallText}>\n              - ${creditApplied}\n            </Text>\n          </View>\n          <View style={{ flexDirection: \"row\", marginTop: 20, justifyContent: \"space-between\" }}>\n            <Text style={[styles.smallText, { marginRight: 20 }]}>\n              Total Amount\n            </Text>\n            <Text style={styles.smallText}>\n              ${totalCost}\n            </Text>\n          </View>\n        </View>\n\n        <View style={{ flexDirection: \"column\", width: \"80%\", position: \"absolute\", bottom: 0, borderTop: \"1 solid gray\", paddingVertical: 10, marginBottom: 10, alignSelf: \"center\"}} fixed>\n          <Text style={[styles.smallText, { color: \"gray\", textAlign: \"center\" }]} render={({ pageNumber, totalPages }) => (\n            `Invoice for ${ fullName } - Invoice ID : ${invoiceUUID}`\n          )} />\n        </View>\n      </Page>\n    </Document>\n  )\n}\n\nclass PDFInvoice extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      invoice: null\n    }\n  }\n\n  componentDidMount() {\n    console.log('the invoiceid is', this.props.match.params)\n    agent.setToken(this.props.token)\n    agent.requests.get(`invoices/${this.props.match.params.invoiceId}`).then(({invoice}) => {\n      // succesfully updated invoice\n      this.setState({\n        invoice\n      })\n    }).catch((err) => {\n      if (err.status === 404) {\n        // redirect to dashboard with error since pdf does not exist\n        this.props.history.push(\"/\")\n        this.setState({\n          invoice: null\n        })\n      }\n    })\n  }\n\n  render() {\n    const { companyName, companyPhoneNumber } = this.props.globals.settings\n    let allRooms = []\n    let allImages = []\n    let customer = {}\n    let claim = {}\n    let invoiceUUID = ''\n    let totalCost = ''\n    let pdfFileName = `${createUUID()}.pdf`\n    let creditApplied = ''\n    if (this.state.invoice) {\n      const roomIds = Object.keys(this.state.invoice.rooms || {})\n      const roomsById = this.state.invoice.rooms\n      allRooms = roomIds.map((uuid) => {\n        const room = roomsById[uuid]\n        const roomLineItemsIds = Object.keys(room.lineItems)\n        const roomLineItemsById = room.lineItems\n        const roomLineItems = roomLineItemsIds.map((uuid) => roomLineItemsById[uuid])\n        const roomMeasurements = calculateRoomMeasurements(room.length, room.width, room.height)\n        return {\n          ...roomMeasurements,\n          ...room,\n          lineItems: roomLineItems\n        }\n      })\n\n      const imageIds = Object.keys(this.state.invoice.images || {})\n      const imagesById = this.state.invoice.images\n      allImages = imageIds.map((uuid) => imagesById[uuid].url)\n\n      customer = this.state.invoice.customer\n      claim = this.state.invoice.claim\n      invoiceUUID = this.state.invoice.id\n      totalCost = this.state.invoice.totalCost\n      creditApplied = this.state.invoice.creditToApply\n\n      pdfFileName = `${customer.fullName.replace(/\\s+/g, '')}-${invoiceUUID}.pdf`\n    }\n    return (\n      <div className=\"flex flex-column justify-center pv4 ph2 w-100\">\n        <PDFDownloadLink\n        document={\n          <PDFdocument\n            {...this.props.globals.settings}\n            allRooms={allRooms || []}\n            allImages={allImages}\n            {...customer}\n            {...claim}\n            invoiceUUID={invoiceUUID}\n            totalCost={totalCost}\n            creditApplied={creditApplied}\n            pdfVersion=\"VERSION_1\"\n          />\n        }\n        fileName={pdfFileName}\n        className=\"dinTitle f4 mid-gray center mv4\"\n        key={createUUID()}\n        >\n          {({ blob, url, loading, error }) => (loading ? 'Loading document...' : 'Download PDF')}\n        </PDFDownloadLink>\n        <PDFViewer height=\"800px\" className=\"center w-90 w-60-l\" key={createUUID()}>\n          <PDFdocument\n            {...this.props.globals.settings}\n            allRooms={allRooms || []}\n            allImages={allImages}\n            {...customer}\n            {...claim}\n            invoiceUUID={invoiceUUID}\n            totalCost={totalCost}\n            creditApplied={creditApplied}\n            pdfVersion=\"VERSION_1\"\n          />\n        </PDFViewer>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  const { status, errors, auth } = state\n  const { settings: settingsStatus } = status.globals\n  const { settings: settingsError } = errors.globals\n  return {\n    isLoading: {\n      globals: {\n        settings: settingsStatus\n      }\n    },\n    isError: {\n      globals: {\n        settings:settingsError\n      }\n    },\n    globals: {\n      settings: getSettings(state)\n    },\n    token: auth.token\n  }\n}\n\nexport default connect(mapStateToProps, { fetchSettings })(PDFInvoice)\n// export default PDFInvoice\n","import React from 'react'\n\nexport default (props) => {\n  return (\n  <div>Not Found </div>\n  )\n};\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Route, Switch } from 'react-router'\n\nimport Header from './Header'\nimport Dashboard from './Dashboard'\nimport CreateInvoice from './CreateInvoice'\nimport Settings from './Settings'\nimport PDFInvoice from './PDFInvoice'\nimport NotFound from './../views/NotFound'\n\nimport { initApp } from '../state/actions/applicationActions'\nimport { logout } from '../state/actions/authActions'\n\n\nclass Main extends Component {\n  constructor(props){\n    super(props)\n    this.logout = this.logout.bind(this)\n  }\n\n  componentDidMount() {\n    this.props.initApp()\n  }\n\n  logout(){\n    this.props.logout()\n  }\n\n  render() {\n    return (\n      <div>\n        <Header onLogout={this.logout} />\n        <main>\n          <Switch>\n            <Route exact path={this.props.match.path} component={Dashboard} />\n            <Route path={this.props.match.path + 'invoices/new/:draftId'} component={CreateInvoice} />\n            <Route path={`${this.props.match.path}settings`} component={Settings} />\n            <Route path={`${this.props.match.path}invoices/pdf/:invoiceId`} exact component={PDFInvoice} />\n            <Route path=\"/*\" component={NotFound} />\n          </Switch>\n        </main>\n      </div>\n    )\n  }\n}\n\n\nexport default connect(null, { logout, initApp })(Main)\n","import agent from '../../util/agent'\n\nexport const attemptLogin = (email, password) => dispatch => {\n\n  return dispatch({\n    type: \"LOGIN\",\n    payload: agent.Auth.login(email, password).then((res) => {\n      if (res.isAuth) {\n        return res\n      }\n      return Promise.reject(res)\n    })\n  })\n}\n\nexport const logout = () => ({\n  type: \"LOGOUT\"\n})\n","import React, { Component } from 'react'\nimport { push } from 'connected-react-router'\nimport { connect } from 'react-redux'\nimport { attemptLogin } from '../state/actions/authActions'\nimport Arrow from '../images/arrow';\nimport logo from '../images/small_logo.png';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n    this.login = this.login.bind(this)\n    this.handleChange = this.handleChange.bind(this)\n    this.state = {\n      email: '',\n      password: ''\n    }\n  }\n\n  handleChange (e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    const locationState = this.props.location.state\n    if (this.props.isAuth) {\n      if (locationState) {\n        this.props.push(this.props.location.state.from);\n      } else {\n        this.props.push('/');\n      }\n    }\n  }\n\n  login () {\n    this.props.attemptLogin(this.state.email, this.state.password).catch((error) => {\n      if (error.response.statusCode === 401 || error.response.statusCode === 403) {\n        alert('Your email or password is incorrect')\n        console.log('this is the error ----->', error)\n        return;\n      }\n      alert('there was an error')\n      console.log('this is the error ----->', error)\n    })\n  }\n\n  componentDidUpdate() {\n    const locationState = this.props.location.state\n    if (this.props.isAuth) {\n      if (locationState) {\n        this.props.push(this.props.location.state.from);\n      } else {\n        this.props.push('/');\n      }\n    }\n  }\n\n  render() {\n    return(\n      <div className=\"w-100 vh-100 flex flex-column ph2 justify-center flex-row-l items-center measure-1024 center\">\n        <div className=\"fl w-90 w-50-l flex flex-column items-center\">\n          <p className=\"self-start dinTitle\">\n            Welcome back,\n            <br />\n            Sign in.\n            <span className=\"db mt3\">\n              <img src={logo} width=\"25%\" height=\"auto\" alt=\"\" />\n            </span>\n          </p>\n        </div>\n        <div className=\"fl w-90 w-50-l flex flex-column items-center\">\n          <div className=\"self-start w-100 measure ph3\">\n            <input className=\"InputField\" type=\"email\" name=\"email\" value={this.state.email} placeholder=\"Knack Email\" onChange={this.handleChange}/>\n            <input className=\"InputField\" type=\"password\" name=\"password\" value={this.state.password} placeholder=\"Knack Password\" onChange={this.handleChange}/>\n            <button\n              className=\"flex flex-row items-center dinLabel f7 blue self-start pointer bn bg-transparent mt3\"\n              onClick={this.login}\n              disabled={this.props.loading}>\n              SIGN IN <div className=\"ArrowIcon mh2\"><Arrow /></div>\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default connect(state => ({isAuth: state.auth.isAuth, loading: state.status.authLoading}), { push,\n  test: () => ({type: \"CHANGE\"}),\n  attemptLogin\n })(Login);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport {\n  Route,\n  Link,\n  Redirect,\n  Switch\n} from \"react-router\";\n\nimport Main from './Main'\nimport Login from './Login'\n\nimport '../styles/application.css';\n\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth\n})\n\nconst ProtectedRoute = connect(mapStateToProps ,null)(({ component: Component, isAuth, ...rest}) => {\n  return (\n    <Route\n      {...rest}\n      render={props => isAuth ? (\n          <Component {...props} />\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/login\",\n              state: { from: props.location }\n            }}\n          />\n        )\n      }\n    />\n  );\n})\n\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route path=\"/login\" exact component={Login} />\n          <ProtectedRoute path=\"/\" component={Main} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport { ConnectedRouter } from 'connected-react-router'\nimport configureStore, { history } from './util/configStore'\n\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst { store, persistor } = configureStore()\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <ConnectedRouter history={history}>\n        <App />\n      </ConnectedRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}